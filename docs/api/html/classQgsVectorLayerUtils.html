<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsVectorLayerUtils class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsVectorLayerUtils <span class="m-thin">class</span>
        </h1>
        <p>Contains utility methods for working with QgsVectorLayers.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-types">Public types</a></li>
                <li><a href="#pub-static-methods">Public static functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
        <section id="pub-types">
          <h2><a href="#pub-types">Public types</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html" class="m-doc">QgsDuplicateFeatureContext</a>
            </dt>
            <dd>Contains mainly the QMap with <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a> and QgsFeatureIds do list all the duplicated features.</dd>
          </dl>
        </section>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a8049ffa5e5b57fad94b09280e943f235" class="m-doc">createFeature</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const <a href="classQgsGeometry.html" class="m-doc">QgsGeometry</a>&amp; geometry = <a href="classQgsGeometry.html" class="m-doc">QgsGeometry</a>(),
              const <a href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8" class="m-doc">QgsAttributeMap</a>&amp; attributes = <a href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8" class="m-doc">QgsAttributeMap</a>(),
              <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context = nullptr) -&gt; <a href="classQgsFeature.html" class="m-doc">QgsFeature</a></span>
            </dt>
            <dd>Creates a new feature ready for insertion into a layer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ac4c62baac85a9b7143dafb9c95d251b6" class="m-doc">createUniqueValue</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              int fieldIndex,
              const QVariant&amp; seed = QVariant()) -&gt; QVariant</span>
            </dt>
            <dd>Returns a new attribute value for the specified field index which is guaranteed to be unique.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a7992504619d2a600e119145772d6e0b8" class="m-doc">duplicateFeature</a>(</span><span class="m-doc-wrap"><a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const <a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              <a href="classQgsProject.html" class="m-doc">QgsProject</a>* project,
              int depth,
              <a href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html" class="m-doc">QgsDuplicateFeatureContext</a>&amp; duplicateFeatureContext) -&gt; <a href="classQgsFeature.html" class="m-doc">QgsFeature</a></span>
            </dt>
            <dd>Duplicates a feature and it&#x27;s children (one level deep).</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#aa5c5385be093a21faca7ea297da9eb04" class="m-doc">getDoubleValues</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const QString&amp; fieldOrExpression,
              bool&amp; ok,
              bool selectedOnly = false,
              int* nullCount = nullptr,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback = nullptr) -&gt; QList&lt;double&gt;</span>
            </dt>
            <dd>Fetches all double values from a specified field name or expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a70b86ec2106d3ab6579e76b21a1ab1c7" class="m-doc">getFeatureSource</a>(</span><span class="m-doc-wrap">QPointer&lt;<a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>&gt; layer,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback = nullptr) -&gt; std::unique_ptr&lt;<a href="classQgsVectorLayerFeatureSource.html" class="m-doc">QgsVectorLayerFeatureSource</a>&gt;</span>
            </dt>
            <dd>Gets the feature source from a <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a> pointer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#acced1507b9fc9eded69d785f05349b5d" class="m-doc">getValues</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const QString&amp; fieldOrExpression,
              bool&amp; ok,
              bool selectedOnly = false,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback = nullptr) -&gt; QList&lt;QVariant&gt;</span>
            </dt>
            <dd>Fetches all values from a specified field name or expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a6485e1bd9c2fd15759c09673e5bcec81" class="m-doc">getValuesIterator</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const QString&amp; fieldOrExpression,
              bool&amp; ok,
              bool selectedOnly) -&gt; <a href="classQgsFeatureIterator.html" class="m-doc">QgsFeatureIterator</a></span>
            </dt>
            <dd>Create a feature iterator for a specified field name or expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a503c0c3143ea337c49687dc389701646" class="m-doc">makeFeatureCompatible</a>(</span><span class="m-doc-wrap">const <a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer) -&gt; <a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc" class="m-doc">QgsFeatureList</a></span>
            </dt>
            <dd>Converts input <em>feature</em> to be compatible with the given <em>layer</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a2b6c8305e1d595d9ec962493d72e8651" class="m-doc">makeFeaturesCompatible</a>(</span><span class="m-doc-wrap">const <a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc" class="m-doc">QgsFeatureList</a>&amp; features,
              const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer) -&gt; <a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc" class="m-doc">QgsFeatureList</a></span>
            </dt>
            <dd>Converts input <em>features</em> to be compatible with the given <em>layer</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#ae4b39d34345d605cabf89a9a27c2c697" class="m-doc">matchAttributesToFields</a>(</span><span class="m-doc-wrap"><a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              const <a href="classQgsFields.html" class="m-doc">QgsFields</a>&amp; fields)</span>
            </dt>
            <dd>Matches the attributes in <em>feature</em> to the specified <em>fields</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ae48786b14c87f16dc1c77d33c05421ef" class="m-doc">validateAttribute</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const <a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              int attributeIndex,
              QStringList&amp; errors,
              <a href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dca" class="m-doc">QgsFieldConstraints::<wbr />ConstraintStrength</a> strength = <a href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dcaa3363576bcb35da808eb7cfa672dadf2c" class="m-doc">QgsFieldConstraints::<wbr />ConstraintStrengthNotSet</a>,
              <a href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3" class="m-doc">QgsFieldConstraints::<wbr />ConstraintOrigin</a> origin = <a href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3a8befae9864c309ce37ed84b2282ba79b" class="m-doc">QgsFieldConstraints::<wbr />ConstraintOriginNotSet</a>) -&gt; bool</span>
            </dt>
            <dd>Tests an attribute value to check whether it passes all constraints which are present on the corresponding field.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a38f919646469f304c6ff0092db63ab6c" class="m-doc">valueExists</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              int fieldIndex,
              const QVariant&amp; value,
              const <a href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3" class="m-doc">QgsFeatureIds</a>&amp; ignoreIds = <a href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3" class="m-doc">QgsFeatureIds</a>()) -&gt; bool</span>
            </dt>
            <dd>Returns true if the specified value already exists within a field.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a8049ffa5e5b57fad94b09280e943f235"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static <a href="classQgsFeature.html" class="m-doc">QgsFeature</a> QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8049ffa5e5b57fad94b09280e943f235" class="m-doc-self">createFeature</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const <a href="classQgsGeometry.html" class="m-doc">QgsGeometry</a>&amp; geometry = <a href="classQgsGeometry.html" class="m-doc">QgsGeometry</a>(),
              const <a href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8" class="m-doc">QgsAttributeMap</a>&amp; attributes = <a href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8" class="m-doc">QgsAttributeMap</a>(),
              <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context = nullptr)</span></span>
            </h3>
            <p>Creates a new feature ready for insertion into a layer.</p>
<p>Default values and constraints (e.g., unique constraints) will automatically be handled. An optional attribute map can be passed for the new feature to copy as many attribute values as possible from the map, assuming that they respect the layer&#x27;s constraints. Note that the created feature is not automatically inserted into the layer.</p>
          </div></section>
          <section class="m-doc-details" id="ac4c62baac85a9b7143dafb9c95d251b6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QVariant QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac4c62baac85a9b7143dafb9c95d251b6" class="m-doc-self">createUniqueValue</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              int fieldIndex,
              const QVariant&amp; seed = QVariant())</span></span>
            </h3>
            <p>Returns a new attribute value for the specified field index which is guaranteed to be unique.</p>
<p>The optional seed value can be used as a basis for generated values.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsVectorLayerUtils.html#a38f919646469f304c6ff0092db63ab6c" class="m-doc">valueExists()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a7992504619d2a600e119145772d6e0b8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static <a href="classQgsFeature.html" class="m-doc">QgsFeature</a> QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a7992504619d2a600e119145772d6e0b8" class="m-doc-self">duplicateFeature</a>(</span><span class="m-doc-wrap"><a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const <a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              <a href="classQgsProject.html" class="m-doc">QgsProject</a>* project,
              int depth,
              <a href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html" class="m-doc">QgsDuplicateFeatureContext</a>&amp; duplicateFeatureContext)</span></span>
            </h3>
            <p>Duplicates a feature and it&#x27;s children (one level deep).</p>
<p>It calls CreateFeature, so default values and constraints (e.g., unique constraints) will automatically be handled. The duplicated feature will be automatically inserted into the layer. <em>depth</em> the higher this number the deeper the level - With depth &gt; 0 the children of the feature are not duplicated <em>duplicateFeatureContext</em> stores all the layers and the featureids of the duplicated features (incl. children)</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="aa5c5385be093a21faca7ea297da9eb04"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QList&lt;double&gt; QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aa5c5385be093a21faca7ea297da9eb04" class="m-doc-self">getDoubleValues</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const QString&amp; fieldOrExpression,
              bool&amp; ok,
              bool selectedOnly = false,
              int* nullCount = nullptr,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback = nullptr)</span></span>
            </h3>
            <p>Fetches all double values from a specified field name or expression.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">layer</td>
                  <td>vector layer to retrieve values from</td>
                </tr>
                <tr>
                  <td>fieldOrExpression</td>
                  <td>field name or an expression string evaluating to a double value</td>
                </tr>
                <tr>
                  <td>ok</td>
                  <td>will be set to false if field or expression is invalid, otherwise true</td>
                </tr>
                <tr>
                  <td>selectedOnly</td>
                  <td>set to true to get values from selected features only</td>
                </tr>
                <tr>
                  <td>nullCount</td>
                  <td>optional pointer to integer to store number of null values encountered in</td>
                </tr>
                <tr>
                  <td>feedback</td>
                  <td>optional feedback object to allow cancelation</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>list of fetched values</td>
                </tr>
              </tfoot>
            </table>
<p>Null values or invalid expression results are skipped.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsVectorLayerUtils.html#acced1507b9fc9eded69d785f05349b5d" class="m-doc">getValues</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a70b86ec2106d3ab6579e76b21a1ab1c7"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static std::unique_ptr&lt;<a href="classQgsVectorLayerFeatureSource.html" class="m-doc">QgsVectorLayerFeatureSource</a>&gt; QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a70b86ec2106d3ab6579e76b21a1ab1c7" class="m-doc-self">getFeatureSource</a>(</span><span class="m-doc-wrap">QPointer&lt;<a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>&gt; layer,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback = nullptr)</span></span>
            </h3>
            <p>Gets the feature source from a <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a> pointer.</p>
<p>This method is thread-safe but will block the main thread for execution. Executing it from the main thread is safe too. This should be used in scenarios, where a <code>QWeakPointer&lt;<a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>&gt;</code> is kept in a thread and features should be fetched from this layer. Using the layer directly is not safe to do. The result will be <code>nullptr</code> if the layer has been deleted. If <em>feedback</em> is specified, the call will return if the feedback is canceled. Returns a new feature source for the <em>layer</em>. The source may be a nullptr if the layer no longer exists or if the feedback is canceled.</p><aside class="m-note m-info"><h4>Note</h4><p>Requires Qt &gt;= 5.10 to make use of the thread-safe implementation</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.4</p></aside>
          </div></section>
          <section class="m-doc-details" id="acced1507b9fc9eded69d785f05349b5d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QList&lt;QVariant&gt; QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acced1507b9fc9eded69d785f05349b5d" class="m-doc-self">getValues</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const QString&amp; fieldOrExpression,
              bool&amp; ok,
              bool selectedOnly = false,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback = nullptr)</span></span>
            </h3>
            <p>Fetches all values from a specified field name or expression.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">layer</td>
                  <td>vector layer to retrieve values from</td>
                </tr>
                <tr>
                  <td>fieldOrExpression</td>
                  <td>field name or an expression string</td>
                </tr>
                <tr>
                  <td>ok</td>
                  <td>will be set to false if field or expression is invalid, otherwise true</td>
                </tr>
                <tr>
                  <td>selectedOnly</td>
                  <td>set to true to get values from selected features only</td>
                </tr>
                <tr>
                  <td>feedback</td>
                  <td>optional feedback object to allow cancelation</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>list of fetched values</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsVectorLayerUtils.html#aa5c5385be093a21faca7ea297da9eb04" class="m-doc">getDoubleValues</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a6485e1bd9c2fd15759c09673e5bcec81"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static <a href="classQgsFeatureIterator.html" class="m-doc">QgsFeatureIterator</a> QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6485e1bd9c2fd15759c09673e5bcec81" class="m-doc-self">getValuesIterator</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const QString&amp; fieldOrExpression,
              bool&amp; ok,
              bool selectedOnly)</span></span>
            </h3>
            <p>Create a feature iterator for a specified field name or expression.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">layer</td>
                  <td>vector layer to retrieve values from</td>
                </tr>
                <tr>
                  <td>fieldOrExpression</td>
                  <td>field name or an expression string</td>
                </tr>
                <tr>
                  <td>ok</td>
                  <td>will be set to false if field or expression is invalid, otherwise true</td>
                </tr>
                <tr>
                  <td>selectedOnly</td>
                  <td>set to true to get values from selected features only</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>feature iterator</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a503c0c3143ea337c49687dc389701646"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static <a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc" class="m-doc">QgsFeatureList</a> QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a503c0c3143ea337c49687dc389701646" class="m-doc-self">makeFeatureCompatible</a>(</span><span class="m-doc-wrap">const <a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer)</span></span>
            </h3>
            <p>Converts input <em>feature</em> to be compatible with the given <em>layer</em>.</p>
<p>This function returns a new list of transformed features compatible with the input layer, note that the number of features returned might be greater than one when converting a multi part geometry to single part</p><p>The following operations will be performed to convert the input features:</p><ul><li>convert single geometries to multi part</li><li>drop additional attributes</li><li>drop geometry if layer is geometry-less</li><li>add missing attribute fields</li><li>add back M/Z values (initialized to 0)</li><li>drop Z/M</li><li>convert multi part geometries to single part</li></ul><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.4</p></aside>
          </div></section>
          <section class="m-doc-details" id="a2b6c8305e1d595d9ec962493d72e8651"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static <a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc" class="m-doc">QgsFeatureList</a> QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2b6c8305e1d595d9ec962493d72e8651" class="m-doc-self">makeFeaturesCompatible</a>(</span><span class="m-doc-wrap">const <a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc" class="m-doc">QgsFeatureList</a>&amp; features,
              const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer)</span></span>
            </h3>
            <p>Converts input <em>features</em> to be compatible with the given <em>layer</em>.</p>
<p>This function returns a new list of transformed features compatible with the input layer, note that the number of features returned might be greater than the number of input features.</p><p>The following operations will be performed to convert the input features:</p><ul><li>convert single geometries to multi part</li><li>drop additional attributes</li><li>drop geometry if layer is geometry-less</li><li>add missing attribute fields</li><li>add back M/Z values (initialized to 0)</li><li>drop Z/M</li><li>convert multi part geometries to single part</li></ul><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.4</p></aside>
          </div></section>
          <section class="m-doc-details" id="ae4b39d34345d605cabf89a9a27c2c697"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static void QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae4b39d34345d605cabf89a9a27c2c697" class="m-doc-self">matchAttributesToFields</a>(</span><span class="m-doc-wrap"><a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              const <a href="classQgsFields.html" class="m-doc">QgsFields</a>&amp; fields)</span></span>
            </h3>
            <p>Matches the attributes in <em>feature</em> to the specified <em>fields</em>.</p>
<p>This causes the attributes contained within the given <em>feature</em> to be rearranged (or in some cases dropped) in order to match the fields and order indicated by <em>fields</em>.</p><p>The exact behavior depends on whether or not <em>feature</em> has a valid fields container set (see <a href="classQgsFeature.html#a331068f619fa9a4b85dee464a6b0f8dd" class="m-doc">QgsFeature::<wbr />fields()</a>). If a fields container is set, then the names of the feature&#x27;s fields are matched to <em>fields</em>. In this case attributes from <em>feature</em> will be rearranged or dropped in order to match the field names from <em>fields</em>.</p><p>If the <em>feature</em> does not have a valid fields container set, then the feature&#x27;s attributes are simply truncated to match the number of fields present in <em>fields</em> (or if less attributes are present in <em>feature</em> than in <em>fields</em>, the feature&#x27;s attributes are padded with NULL values to match the required length).</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.4</p></aside>
          </div></section>
          <section class="m-doc-details" id="ae48786b14c87f16dc1c77d33c05421ef"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae48786b14c87f16dc1c77d33c05421ef" class="m-doc-self">validateAttribute</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              const <a href="classQgsFeature.html" class="m-doc">QgsFeature</a>&amp; feature,
              int attributeIndex,
              QStringList&amp; errors,
              <a href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dca" class="m-doc">QgsFieldConstraints::<wbr />ConstraintStrength</a> strength = <a href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dcaa3363576bcb35da808eb7cfa672dadf2c" class="m-doc">QgsFieldConstraints::<wbr />ConstraintStrengthNotSet</a>,
              <a href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3" class="m-doc">QgsFieldConstraints::<wbr />ConstraintOrigin</a> origin = <a href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3a8befae9864c309ce37ed84b2282ba79b" class="m-doc">QgsFieldConstraints::<wbr />ConstraintOriginNotSet</a>)</span></span>
            </h3>
            <p>Tests an attribute value to check whether it passes all constraints which are present on the corresponding field.</p>
<p>Returns true if the attribute value is valid for the field. Any constraint failures will be reported in the errors argument. If the strength or origin parameter is set then only constraints with a matching strength/origin will be checked.</p>
          </div></section>
          <section class="m-doc-details" id="a38f919646469f304c6ff0092db63ab6c"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool QgsVectorLayerUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a38f919646469f304c6ff0092db63ab6c" class="m-doc-self">valueExists</a>(</span><span class="m-doc-wrap">const <a href="classQgsVectorLayer.html" class="m-doc">QgsVectorLayer</a>* layer,
              int fieldIndex,
              const QVariant&amp; value,
              const <a href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3" class="m-doc">QgsFeatureIds</a>&amp; ignoreIds = <a href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3" class="m-doc">QgsFeatureIds</a>())</span></span>
            </h3>
            <p>Returns true if the specified value already exists within a field.</p>
<p>This method can be used to test for uniqueness of values inside a layer&#x27;s attributes. An optional list of ignored feature IDs can be provided, if so, any features with IDs within this list are ignored when testing for existence of the value.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsVectorLayerUtils.html#ac4c62baac85a9b7143dafb9c95d251b6" class="m-doc">createUniqueValue()</a></p></aside>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
