<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsOpenClUtils class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsOpenClUtils <span class="m-thin">class</span>
        </h1>
        <p>The <a href="classQgsOpenClUtils.html" class="m-doc">QgsOpenClUtils</a> class is responsible for common OpenCL operations such as.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-types">Public types</a></li>
                <li><a href="#pub-static-attribs">Public static variables</a></li>
                <li><a href="#pub-static-methods">Public static functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<ul><li>enable/disable opencl</li><li>store and retrieve preferences for the default device</li><li>check opencl device availability and automatically choose the first GPU device</li><li>creating the default context</li><li>loading program sources from standard locations</li><li>build programs and log errors</li></ul><p>Usage:</p><pre class="m-code"><span class="c1">// This will check if OpenCL is enabled in user options and if there is a suitable</span>
<span class="c1">// device, if a device is found it is initialized.</span>
<span class="k">if</span> <span class="p">(</span> <span class="n">QgsOpenClUtils</span><span class="o">::</span><span class="n">enabled</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">QgsOpenClUtils</span><span class="o">::</span><span class="n">available</span><span class="p">()</span> <span class="p">)</span>
<span class="p">{</span>
   <span class="c1">// Use the default context</span>
   <span class="n">cl</span><span class="o">::</span><span class="n">Context</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">QgsOpenClUtils</span><span class="o">::</span><span class="n">context</span><span class="p">();</span>
   <span class="n">cl</span><span class="o">::</span><span class="n">CommandQueue</span> <span class="n">queue</span><span class="p">(</span> <span class="n">ctx</span> <span class="p">);</span>
   <span class="c1">// Load the program from a standard location and build it</span>
   <span class="n">cl</span><span class="o">::</span><span class="n">Program</span> <span class="n">program</span> <span class="o">=</span> <span class="n">QgsOpenClUtils</span><span class="o">::</span><span class="n">buildProgram</span><span class="p">(</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">QgsOpenClUtils</span><span class="o">::</span><span class="n">sourceFromBaseName</span><span class="p">(</span> <span class="n">QStringLiteral</span> <span class="p">(</span> <span class="s">&quot;hillshade&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
   <span class="c1">// Continue with the usual OpenCL buffer, kernel and execution</span>
   <span class="p">...</span>
<span class="p">}</span></pre><aside class="m-note m-info"><h4>Note</h4><p>not available in Python bindings</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.4</p></aside>
        <section id="pub-types">
          <h2><a href="#pub-types">Public types</a></h2>
          <dl class="m-doc">
            <dt>
              <div class="m-doc-template">template&lt;typename T&gt;</div>
              struct <a href="structQgsOpenClUtils_1_1CPLAllocator.html" class="m-doc">CPLAllocator</a>
            </dt>
            <dd>Tiny smart-pointer-like wrapper around CPLMalloc and CPLFree: this is needed because OpenCL C++ API may throw exceptions.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#abb1190aedc4ff8cd26a66777172998b4" class="m-doc">ExceptionBehavior</a> { </span><span class="m-doc-wrap"><a href="#abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a" class="m-doc">Catch</a>,
              <a href="#abb1190aedc4ff8cd26a66777172998b4a7c18010852eb53d397fb2054b16e5191" class="m-doc">Throw</a> }</span>
            </dt>
            <dd>The ExceptionBehavior enum define how exceptions generated by OpenCL should be treated.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#a4ee7b591a77d56e722d0d20307923fb0" class="m-doc-self" name="a4ee7b591a77d56e722d0d20307923fb0">HardwareType</a> { </span><span class="m-doc-wrap"><a href="#a4ee7b591a77d56e722d0d20307923fb0a505a5343bb05dcdbee585b1d776484a4" class="m-doc">CPU</a>,
              <a href="#a4ee7b591a77d56e722d0d20307923fb0a36bf0c9df5fee9dfdf03117cc9353a5d" class="m-doc">GPU</a>,
              <a href="#a4ee7b591a77d56e722d0d20307923fb0a3dea9281f3c1ce2481b18a0ffc49769a" class="m-doc">Other</a> }</span>
            </dt>
            <dd>The Type enum represent OpenCL device type.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#acc231fa71df96e56a2081e4174e9f057" class="m-doc">Info</a> { </span><span class="m-doc-wrap"><a href="#acc231fa71df96e56a2081e4174e9f057a073d9c9e174b5093f7bded7785ef4d56" class="m-doc">Name</a> = CL_DEVICE_NAME,
              <a href="#acc231fa71df96e56a2081e4174e9f057a90637ba97ed9f6bd12a2c88152aaa898" class="m-doc">Vendor</a> = CL_DEVICE_VENDOR,
              <a href="#acc231fa71df96e56a2081e4174e9f057a59abf33e9e897644c91a2f8ab365471c" class="m-doc">Version</a> = CL_DEVICE_VERSION,
              <a href="#acc231fa71df96e56a2081e4174e9f057a7f57e51896ae80404cf2a3a72dbe3b1d" class="m-doc">Profile</a> = CL_DEVICE_PROFILE,
              <a href="#acc231fa71df96e56a2081e4174e9f057a879a942dd26084e0130957837c07384a" class="m-doc">ImageSupport</a> = CL_DEVICE_IMAGE_SUPPORT,
              <a href="#acc231fa71df96e56a2081e4174e9f057a7c6fbf0fd7ce3dc7034e314162a90ccd" class="m-doc">Image2dMaxWidth</a> = CL_DEVICE_IMAGE2D_MAX_WIDTH,
              <a href="#acc231fa71df96e56a2081e4174e9f057a980aba1351bb80f5edbd163f4df438af" class="m-doc">Image2dMaxHeight</a> = CL_DEVICE_IMAGE2D_MAX_HEIGHT,
              <a href="#acc231fa71df96e56a2081e4174e9f057a358f623b1d9f1407930f8d9a935fe022" class="m-doc">MaxMemAllocSize</a> = CL_DEVICE_MAX_MEM_ALLOC_SIZE,
              <a href="#acc231fa71df96e56a2081e4174e9f057a2bf9bad7130b1eda0c9400064dbf340f" class="m-doc">Type</a> = CL_DEVICE_TYPE }</span>
            </dt>
            <dd>The Info enum maps to OpenCL info constants.</dd>
          </dl>
        </section>
        <section id="pub-static-attribs">
          <h2><a href="#pub-static-attribs">Public static variables</a></h2>
          <dl class="m-doc">
            <dt>
              static QLatin1String <a href="#ae2033320e364b53a05c33c688cc8de23" class="m-doc-self" name="ae2033320e364b53a05c33c688cc8de23">LOGMESSAGE_TAG</a>
            </dt>
            <dd>OpenCL string for message logs.</dd>
          </dl>
        </section>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a40f46158aac4d9d290c44a25d3c1ff0d" class="m-doc">activeDevice</a>(</span><span class="m-doc-wrap">) -&gt; cl::Device</span>
            </dt>
            <dd>Returns the active device.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a65c4736170a0e616b30ed660d92047ff" class="m-doc-self" name="a65c4736170a0e616b30ed660d92047ff">activeDeviceInfo</a>(</span><span class="m-doc-wrap">const <a href="classQgsOpenClUtils.html#acc231fa71df96e56a2081e4174e9f057" class="m-doc">Info</a> infoType = Info::Name) -&gt; QString</span>
            </dt>
            <dd>Returns <em>infoType</em> information about the active (default) device.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ae27e43a703a00a55fd4069d155a74847" class="m-doc">activePlatformVersion</a>(</span><span class="m-doc-wrap">) -&gt; QString</span>
            </dt>
            <dd>Returns the active platform OpenCL version string (e.g.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a51fc6a4aeec21eeef91a847d650063fd" class="m-doc">available</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>Checks whether a suitable OpenCL platform and device is available on this system and initialize the QGIS OpenCL system by activating the preferred device if specified in the user the settings, if no preferred device was set or the preferred device could not be found the first GPU device is activated, the first CPU device acts as a fallback if none of the previous could be found.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a1e098ea81bafea347b8dbc3d9799007e" class="m-doc-self" name="a1e098ea81bafea347b8dbc3d9799007e">buildLog</a>(</span><span class="m-doc-wrap">cl::BuildError&amp; error) -&gt; QString</span>
            </dt>
            <dd>Extract and return the build log error from <em>error</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a16f99417a7f43327e733444408072653" class="m-doc">buildProgram</a>(</span><span class="m-doc-wrap">const cl::Context&amp; context,
              const QString&amp; source,
              <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4" class="m-doc">ExceptionBehavior</a> exceptionBehavior = <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a" class="m-doc">Catch</a>) -&gt; Q_DECL_DEPRECATED cl::Program <span class="m-label m-danger">deprecated</span></span>
            </dt>
            <dd>Build the program from <em>source</em> in the given <em>context</em> and depending on <em>exceptionBehavior</em> can throw or catch the exceptions.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a9e2578b22e07c9641c49ea6cd6b716b8" class="m-doc">buildProgram</a>(</span><span class="m-doc-wrap">const QString&amp; source,
              <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4" class="m-doc">ExceptionBehavior</a> exceptionBehavior = <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a" class="m-doc">Catch</a>) -&gt; cl::Program</span>
            </dt>
            <dd>Build the program from <em>source</em>, depending on <em>exceptionBehavior</em> can throw or catch the exceptions.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#aaa83509b9b2fe33ae34c302abafa4fd4" class="m-doc">commandQueue</a>(</span><span class="m-doc-wrap">) -&gt; cl::CommandQueue</span>
            </dt>
            <dd>Create an OpenCL command queue from the default context.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a2a16d7ae53c53774cd3f1b247e2a14a2" class="m-doc">context</a>(</span><span class="m-doc-wrap">) -&gt; cl::Context</span>
            </dt>
            <dd>Context factory.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a62f027c6d5d30ed7528d1cab9eebc958" class="m-doc-self" name="a62f027c6d5d30ed7528d1cab9eebc958">deviceDescription</a>(</span><span class="m-doc-wrap">const cl::Device device) -&gt; QString</span>
            </dt>
            <dd>Returns a formatted description for the <em>device</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a15afea86b66d4ade5b11938d17f5431d" class="m-doc-self" name="a15afea86b66d4ade5b11938d17f5431d">deviceDescription</a>(</span><span class="m-doc-wrap">const QString deviceId) -&gt; QString</span>
            </dt>
            <dd>Returns a formatted description for the device identified by <em>deviceId</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ac09d5de7797d1e25fd1a321ab0a59fe0" class="m-doc-self" name="ac09d5de7797d1e25fd1a321ab0a59fe0">deviceId</a>(</span><span class="m-doc-wrap">const cl::Device device) -&gt; QString</span>
            </dt>
            <dd>Create a string identifier from a <em>device</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a92dd8fbf097e461cce6084de96733f38" class="m-doc-self" name="a92dd8fbf097e461cce6084de96733f38">deviceInfo</a>(</span><span class="m-doc-wrap">const <a href="classQgsOpenClUtils.html#acc231fa71df96e56a2081e4174e9f057" class="m-doc">Info</a> infoType,
              cl::Device device) -&gt; QString</span>
            </dt>
            <dd>Returns <em>infoType</em> information about the <em>device</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a6772eda15ef8a34782c4e6e16f960c05" class="m-doc-self" name="a6772eda15ef8a34782c4e6e16f960c05">devices</a>(</span><span class="m-doc-wrap">) -&gt; const std::vector&lt;cl::Device&gt;</span>
            </dt>
            <dd>Returns a list of OpenCL devices found on this sysytem.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a48b323961452f68902313c92243ffb72" class="m-doc-self" name="a48b323961452f68902313c92243ffb72">enabled</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>Returns true if OpenCL is enabled in the user settings.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#aa26925500f6f7491688ceff425a037d5" class="m-doc-self" name="aa26925500f6f7491688ceff425a037d5">errorText</a>(</span><span class="m-doc-wrap">const int errorCode) -&gt; QString</span>
            </dt>
            <dd>Returns a string representation from an OpenCL <em>errorCode</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a8f929a8b2f502dfaebb4e5fbd1d128a8" class="m-doc-self" name="a8f929a8b2f502dfaebb4e5fbd1d128a8">preferredDevice</a>(</span><span class="m-doc-wrap">) -&gt; QString</span>
            </dt>
            <dd>Read from the settings the preferred device identifier.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#a6f9d205198d5557258e4cec6fdb46e77" class="m-doc-self" name="a6f9d205198d5557258e4cec6fdb46e77">setEnabled</a>(</span><span class="m-doc-wrap">bool enabled)</span>
            </dt>
            <dd>Set the OpenCL user setting to <em>enabled</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#a1dbb7fc428ae0fde4badeb6862d6bafe" class="m-doc-self" name="a1dbb7fc428ae0fde4badeb6862d6bafe">setSourcePath</a>(</span><span class="m-doc-wrap">const QString&amp; value)</span>
            </dt>
            <dd>Set the base path to OpenCL program directory.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ab883e8d465e90b329dd677b7132577cf" class="m-doc-self" name="ab883e8d465e90b329dd677b7132577cf">sourceFromBaseName</a>(</span><span class="m-doc-wrap">const QString&amp; baseName) -&gt; QString</span>
            </dt>
            <dd>Returns the full path to a an OpenCL source file from the <em>baseName</em> (&#x27;.cl&#x27; extension is automatically appended)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ab73049cb65dbe281c478e421bbedb53b" class="m-doc-self" name="ab73049cb65dbe281c478e421bbedb53b">sourceFromPath</a>(</span><span class="m-doc-wrap">const QString&amp; path) -&gt; QString</span>
            </dt>
            <dd>Read an OpenCL source file from <em>path</em>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a27ba7783b144a61d085753f431021d47" class="m-doc-self" name="a27ba7783b144a61d085753f431021d47">sourcePath</a>(</span><span class="m-doc-wrap">) -&gt; QString</span>
            </dt>
            <dd>Returns the base path to OpenCL program directory.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#a20d696c8afeadfd95f4397256af5fd5e" class="m-doc-self" name="a20d696c8afeadfd95f4397256af5fd5e">storePreferredDevice</a>(</span><span class="m-doc-wrap">const QString deviceId)</span>
            </dt>
            <dd>Store in the settings the preferred <em>deviceId</em> device identifier.</dd>
          </dl>
        </section>
        <section>
          <h2>Enum documentation</h2>
          <section class="m-doc-details" id="abb1190aedc4ff8cd26a66777172998b4"><div>
            <h3>
              enum QgsOpenClUtils::<wbr /><a href="#abb1190aedc4ff8cd26a66777172998b4" class="m-doc-self">ExceptionBehavior</a>
            </h3>
            <p>The ExceptionBehavior enum define how exceptions generated by OpenCL should be treated.</p>
            <table class="m-table m-fullwidth m-flat m-doc">
              <thead><tr><th style="width: 1%">Enumerators</th><th></th></tr></thead>
              <tbody>
                <tr>
                  <td><a href="#abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a" class="m-doc-self" name="abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a">Catch</a></td>
                  <td>
                  </td>
                </tr>
                <tr>
                  <td><a href="#abb1190aedc4ff8cd26a66777172998b4a7c18010852eb53d397fb2054b16e5191" class="m-doc-self" name="abb1190aedc4ff8cd26a66777172998b4a7c18010852eb53d397fb2054b16e5191">Throw</a></td>
                  <td>
                  <p>Write errors in the message log and silently fail.</p>
<p>Write errors in the message log and re-throw exceptions</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="acc231fa71df96e56a2081e4174e9f057"><div>
            <h3>
              enum QgsOpenClUtils::<wbr /><a href="#acc231fa71df96e56a2081e4174e9f057" class="m-doc-self">Info</a>
            </h3>
            <p>The Info enum maps to OpenCL info constants.</p>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsOpenClUtils.html#a92dd8fbf097e461cce6084de96733f38" class="m-doc">deviceInfo()</a></p></aside>
          </div></section>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a40f46158aac4d9d290c44a25d3c1ff0d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static cl::Device QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a40f46158aac4d9d290c44a25d3c1ff0d" class="m-doc-self">activeDevice</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Returns the active device.</p>
<p>The active device is set as the default device for all OpenCL operations, once it is set it cannot be changed until QGIS is restarted (this is due to the way the underlying OpenCL library is built).</p>
          </div></section>
          <section class="m-doc-details" id="ae27e43a703a00a55fd4069d155a74847"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae27e43a703a00a55fd4069d155a74847" class="m-doc-self">activePlatformVersion</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Returns the active platform OpenCL version string (e.g.</p>
<p>1.1, 2.0 etc.) or a blank string if there is no active platform.</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.6</p></aside>
          </div></section>
          <section class="m-doc-details" id="a51fc6a4aeec21eeef91a847d650063fd"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a51fc6a4aeec21eeef91a847d650063fd" class="m-doc-self">available</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Checks whether a suitable OpenCL platform and device is available on this system and initialize the QGIS OpenCL system by activating the preferred device if specified in the user the settings, if no preferred device was set or the preferred device could not be found the first GPU device is activated, the first CPU device acts as a fallback if none of the previous could be found.</p>
<p>This function must always be called before using QGIS OpenCL utils</p>
          </div></section>
          <section class="m-doc-details" id="a16f99417a7f43327e733444408072653"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static Q_DECL_DEPRECATED cl::Program QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a16f99417a7f43327e733444408072653" class="m-doc-self">buildProgram</a>(</span><span class="m-doc-wrap">const cl::Context&amp; context,
              const QString&amp; source,
              <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4" class="m-doc">ExceptionBehavior</a> exceptionBehavior = <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a" class="m-doc">Catch</a>)</span></span>
            </h3>
            <p>Build the program from <em>source</em> in the given <em>context</em> and depending on <em>exceptionBehavior</em> can throw or catch the exceptions.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>the built program</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-danger"><h4><a href="deprecated.html#_deprecated000009" class="m-doc">Deprecated</a></h4><p>since QGIS 3.6</p></aside>
          </div></section>
          <section class="m-doc-details" id="a9e2578b22e07c9641c49ea6cd6b716b8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static cl::Program QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9e2578b22e07c9641c49ea6cd6b716b8" class="m-doc-self">buildProgram</a>(</span><span class="m-doc-wrap">const QString&amp; source,
              <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4" class="m-doc">ExceptionBehavior</a> exceptionBehavior = <a href="classQgsOpenClUtils.html#abb1190aedc4ff8cd26a66777172998b4aa666f80e0b6d991e147e1ac554fcf26a" class="m-doc">Catch</a>)</span></span>
            </h3>
            <p>Build the program from <em>source</em>, depending on <em>exceptionBehavior</em> can throw or catch the exceptions.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>the built program</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="aaa83509b9b2fe33ae34c302abafa4fd4"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static cl::CommandQueue QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aaa83509b9b2fe33ae34c302abafa4fd4" class="m-doc-self">commandQueue</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Create an OpenCL command queue from the default context.</p>
<p>This wrapper is required in order to prevent a crash when running on OpenCL platforms &lt; 2</p>
          </div></section>
          <section class="m-doc-details" id="a2a16d7ae53c53774cd3f1b247e2a14a2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static cl::Context QgsOpenClUtils::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2a16d7ae53c53774cd3f1b247e2a14a2" class="m-doc-self">context</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Context factory.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>a new context for the default device or an invalid context if no device were identified or OpenCL support is not available and enabled</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
