<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsNetworkAccessManager class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsNetworkAccessManager <span class="m-thin">class</span>
        </h1>
        <p>network access manager for QGIS</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-static-methods">Public static functions</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>It&#x27;s a singleton that can be used across QGIS.</p><p>Plugins can insert proxy factories and thereby redirect requests to individual proxies.</p><p>If no proxy factories are there or none returns a proxy for an URL a fallback proxy can be set. There&#x27;s also a exclude list that defines URLs that the fallback proxy should not be used for, then no proxy will be used.</p><aside class="m-note m-default"><h4>Since</h4><p>1.5</p></aside>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a66345a869d73fde7134190fbe6558677" class="m-doc-self" name="a66345a869d73fde7134190fbe6558677">cacheLoadControlFromName</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; QNetworkRequest::CacheLoadControl</span>
            </dt>
            <dd>Gets QNetworkRequest::CacheLoadControl from name.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a351362e0dd1e1b6addf7b00931a50e37" class="m-doc-self" name="a351362e0dd1e1b6addf7b00931a50e37">cacheLoadControlName</a>(</span><span class="m-doc-wrap">QNetworkRequest::CacheLoadControl control) -&gt; QString</span>
            </dt>
            <dd>Gets name for QNetworkRequest::CacheLoadControl.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ad6744b4063755b69e2e071ab23efa0eb" class="m-doc">instance</a>(</span><span class="m-doc-wrap">Qt::ConnectionType connectionType = Qt::BlockingQueuedConnection) -&gt; <a href="classQgsNetworkAccessManager.html" class="m-doc">QgsNetworkAccessManager</a>*</span>
            </dt>
            <dd>Returns a pointer to the active <a href="classQgsNetworkAccessManager.html" class="m-doc">QgsNetworkAccessManager</a> for the current thread.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ad4261cdbb8cb84c9c07b064822b0a85b" class="m-doc-self" name="ad4261cdbb8cb84c9c07b064822b0a85b">excludeList</a>(</span><span class="m-doc-wrap">) const -&gt; QStringList</span>
            </dt>
            <dd>retrieve exclude list (urls shouldn&#x27;t use the fallback proxy)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a94c447d9a3f2314e8179f36bedd6bebb" class="m-doc-self" name="a94c447d9a3f2314e8179f36bedd6bebb">fallbackProxy</a>(</span><span class="m-doc-wrap">) const -&gt; const QNetworkProxy&amp;</span>
            </dt>
            <dd>retrieve fall back proxy (for urls that no factory returned proxies for)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a140f17ffa9ab626900b14c3111210890" class="m-doc-self" name="a140f17ffa9ab626900b14c3111210890">insertProxyFactory</a>(</span><span class="m-doc-wrap">QNetworkProxyFactory* factory)</span>
            </dt>
            <dd>insert a factory into the proxy factories list</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a1da4878f8a5385f80e8d792074232af6" class="m-doc-self" name="a1da4878f8a5385f80e8d792074232af6">proxyFactories</a>(</span><span class="m-doc-wrap">) const -&gt; const QList&lt;QNetworkProxyFactory*&gt;</span>
            </dt>
            <dd>retrieve proxy factory list</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ae1610376d4eda5a97f42310508f0754f" class="m-doc-self" name="ae1610376d4eda5a97f42310508f0754f">removeProxyFactory</a>(</span><span class="m-doc-wrap">QNetworkProxyFactory* factory)</span>
            </dt>
            <dd>remove a factory from the proxy factories list</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ad1d70c23f04fbbcd30d6ff151af8ca18" class="m-doc-self" name="ad1d70c23f04fbbcd30d6ff151af8ca18">setFallbackProxyAndExcludes</a>(</span><span class="m-doc-wrap">const QNetworkProxy&amp; proxy,
              const QStringList&amp; excludes)</span>
            </dt>
            <dd>Sets fallback proxy and URL that shouldn&#x27;t use it.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#aafaa838b77b2b59b214125f5e0d5237d" class="m-doc">setupDefaultProxyAndCache</a>(</span><span class="m-doc-wrap">Qt::ConnectionType connectionType = Qt::BlockingQueuedConnection)</span>
            </dt>
            <dd>Setup the <a href="classQgsNetworkAccessManager.html" class="m-doc">QgsNetworkAccessManager</a> (NAM) according to the user&#x27;s settings.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#afc1db49affa3e493abeb38f5d09b1b63" class="m-doc-self" name="afc1db49affa3e493abeb38f5d09b1b63">useSystemProxy</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>Returns whether the system proxy should be used.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="ad6744b4063755b69e2e071ab23efa0eb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static <a href="classQgsNetworkAccessManager.html" class="m-doc">QgsNetworkAccessManager</a>* QgsNetworkAccessManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad6744b4063755b69e2e071ab23efa0eb" class="m-doc-self">instance</a>(</span><span class="m-doc-wrap">Qt::ConnectionType connectionType = Qt::BlockingQueuedConnection)</span></span>
            </h3>
            <p>Returns a pointer to the active <a href="classQgsNetworkAccessManager.html" class="m-doc">QgsNetworkAccessManager</a> for the current thread.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">connectionType</td>
                  <td>In most cases the default of using a <code>Qt::BlockingQueuedConnection</code> is ok, to make a background thread wait for the main thread to answer such a request is fine and anything else is dangerous. However, in case the request was started on the main thread, one should execute a local event loop in a helper thread and freeze the main thread for the duration of the download. In this case, if an authentication request is sent from the background thread network access manager, the background thread should be blocked, the main thread be woken up, processEvents() executed once, the main thread frozen again and the background thread continued.</td>
                </tr>
              </tbody>
            </table>
<p>With the <em>connectionType</em> parameter it is possible to setup the default connection type that is used to handle signals that might require user interaction and therefore need to be handled on the main thread. See in-depth discussion below.</p>
          </div></section>
          <section class="m-doc-details" id="aafaa838b77b2b59b214125f5e0d5237d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsNetworkAccessManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aafaa838b77b2b59b214125f5e0d5237d" class="m-doc-self">setupDefaultProxyAndCache</a>(</span><span class="m-doc-wrap">Qt::ConnectionType connectionType = Qt::BlockingQueuedConnection)</span></span>
            </h3>
            <p>Setup the <a href="classQgsNetworkAccessManager.html" class="m-doc">QgsNetworkAccessManager</a> (NAM) according to the user&#x27;s settings.</p>
<p>The <em>connectionType</em> sets up the default connection type that is used to handle signals that might require user interaction and therefore need to be handled on the main thread. See in-depth discussion in the documentation for the constructor of this class.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
