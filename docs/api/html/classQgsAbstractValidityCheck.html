<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsAbstractValidityCheck class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsAbstractValidityCheck <span class="m-thin">class</span>
        </h1>
        <p>Abstract base class for individual validity checks.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-types">Public types</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>Validity checks represent objects which can run a test using a <a href="classQgsValidityCheckContext.html" class="m-doc">QgsValidityCheckContext</a>, and return the results of the check via <a href="classQgsValidityCheckResult.html" class="m-doc">QgsValidityCheckResult</a> objects.</p><p>Checks can be used for many different use cases, e.g. validating a layout&#x27;s contents before allowing an export to occur, or validating the contents of a Processing model (and warning if required plugin based providers are not available or if compulsory algorithm parameters have not been populated).</p><p>Subclasses must indicate the type of check they represent via the <a href="classQgsAbstractValidityCheck.html#aa2ce347b514635116b93fc4638597565" class="m-doc">checkType()</a> method. When checks are performed, all the registered checks with a matching check type are performed sequentially. The check type also dictates the subclass of the <a href="classQgsValidityCheckContext.html" class="m-doc">QgsValidityCheckContext</a> which is given to the subclass&#x27; runCheck method.</p><p>Checks must be registered in the application&#x27;s <a href="classQgsValidityCheckRegistry.html" class="m-doc">QgsValidityCheckRegistry</a>, which is accessible via <a href="classQgsApplication.html#a20c3fb984500cafc85bcff8799aaebb3" class="m-doc">QgsApplication::<wbr />validityCheckRegistry()</a>.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsValidityCheckRegistry.html" class="m-doc">QgsValidityCheckRegistry</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.6</p></aside>
        <section id="pub-types">
          <h2><a href="#pub-types">Public types</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#ac64df453e36a9ff10dcd4a98354aa1e4" class="m-doc">Type</a> { </span><span class="m-doc-wrap"><a href="#ac64df453e36a9ff10dcd4a98354aa1e4acd2328652f488f38c9c396104e97b2b0" class="m-doc">TypeLayoutCheck</a> = 0,
              <a href="#ac64df453e36a9ff10dcd4a98354aa1e4aa2682dce37523ad70159714334683913" class="m-doc">TypeUserCheck</a> = 10000 }</span>
            </dt>
            <dd>Check types.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#aa2ce347b514635116b93fc4638597565" class="m-doc-self" name="aa2ce347b514635116b93fc4638597565">checkType</a>(</span><span class="m-doc-wrap">) const -&gt; int <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Returns the type of the check.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a491ddb7904afcb7baeb8200f188a0078" class="m-doc-self" name="a491ddb7904afcb7baeb8200f188a0078">create</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="classQgsAbstractValidityCheck.html" class="m-doc">QgsAbstractValidityCheck</a>* <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Creates a new instance of the check and returns it.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a92de3c14d17fc4a6920624ebd741e5be" class="m-doc">id</a>(</span><span class="m-doc-wrap">) const -&gt; QString <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Returns the unique ID of the check.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a2d811b1cd02c85e0a55f29129d5c2606" class="m-doc">prepareCheck</a>(</span><span class="m-doc-wrap">const <a href="classQgsValidityCheckContext.html" class="m-doc">QgsValidityCheckContext</a>* context,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback) -&gt; bool <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Prepares the check for execution, and returns true if the check can be run.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#af4918654d7d3b90a7dbf2ffa33408b8d" class="m-doc">runCheck</a>(</span><span class="m-doc-wrap">const <a href="classQgsValidityCheckContext.html" class="m-doc">QgsValidityCheckContext</a>* context,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback) -&gt; QList&lt;<a href="classQgsValidityCheckResult.html" class="m-doc">QgsValidityCheckResult</a>&gt; <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Runs the check and returns a list of results.</dd>
          </dl>
        </section>
        <section>
          <h2>Enum documentation</h2>
          <section class="m-doc-details" id="ac64df453e36a9ff10dcd4a98354aa1e4"><div>
            <h3>
              enum QgsAbstractValidityCheck::<wbr /><a href="#ac64df453e36a9ff10dcd4a98354aa1e4" class="m-doc-self">Type</a>
            </h3>
            <p>Check types.</p>
            <table class="m-table m-fullwidth m-flat m-doc">
              <thead><tr><th style="width: 1%">Enumerators</th><th></th></tr></thead>
              <tbody>
                <tr>
                  <td><a href="#ac64df453e36a9ff10dcd4a98354aa1e4acd2328652f488f38c9c396104e97b2b0" class="m-doc-self" name="ac64df453e36a9ff10dcd4a98354aa1e4acd2328652f488f38c9c396104e97b2b0">TypeLayoutCheck</a></td>
                  <td>
                  <p>Print layout validity check, triggered on exporting a print layout.</p>
                  </td>
                </tr>
                <tr>
                  <td><a href="#ac64df453e36a9ff10dcd4a98354aa1e4aa2682dce37523ad70159714334683913" class="m-doc-self" name="ac64df453e36a9ff10dcd4a98354aa1e4aa2682dce37523ad70159714334683913">TypeUserCheck</a></td>
                  <td>
                  <p>Starting point for custom user types.</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a92de3c14d17fc4a6920624ebd741e5be"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QString QgsAbstractValidityCheck::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a92de3c14d17fc4a6920624ebd741e5be" class="m-doc-self">id</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Returns the unique ID of the check.</p>
<p>This is a non-translated, non-user visible string identifying the check.</p>
          </div></section>
          <section class="m-doc-details" id="a2d811b1cd02c85e0a55f29129d5c2606"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsAbstractValidityCheck::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2d811b1cd02c85e0a55f29129d5c2606" class="m-doc-self">prepareCheck</a>(</span><span class="m-doc-wrap">const <a href="classQgsValidityCheckContext.html" class="m-doc">QgsValidityCheckContext</a>* context,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Prepares the check for execution, and returns true if the check can be run.</p>
<p>This method is always called from the main thread, and subclasses can implement it to do preparatory steps which are not thread safe (e.g. obtaining feature sources from vector layers). It is followed by a call to <a href="classQgsAbstractValidityCheck.html#af4918654d7d3b90a7dbf2ffa33408b8d" class="m-doc">runCheck()</a>, which may be performed in a background thread.</p><p>Individual calls to <a href="classQgsAbstractValidityCheck.html#a2d811b1cd02c85e0a55f29129d5c2606" class="m-doc">prepareCheck()</a>/runCheck() are run on a new instance of the check (see <a href="classQgsAbstractValidityCheck.html#a491ddb7904afcb7baeb8200f188a0078" class="m-doc">create()</a>), so subclasses can safely store state from the <a href="classQgsAbstractValidityCheck.html#a2d811b1cd02c85e0a55f29129d5c2606" class="m-doc">prepareCheck()</a> method ready for the subsequent <a href="classQgsAbstractValidityCheck.html#af4918654d7d3b90a7dbf2ffa33408b8d" class="m-doc">runCheck()</a> method.</p><p>The <em>context</em> argument gives the wider in which the check is being run.</p>
          </div></section>
          <section class="m-doc-details" id="af4918654d7d3b90a7dbf2ffa33408b8d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QList&lt;<a href="classQgsValidityCheckResult.html" class="m-doc">QgsValidityCheckResult</a>&gt; QgsAbstractValidityCheck::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af4918654d7d3b90a7dbf2ffa33408b8d" class="m-doc-self">runCheck</a>(</span><span class="m-doc-wrap">const <a href="classQgsValidityCheckContext.html" class="m-doc">QgsValidityCheckContext</a>* context,
              <a href="classQgsFeedback.html" class="m-doc">QgsFeedback</a>* feedback) <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Runs the check and returns a list of results.</p>
<p>If the check is &quot;passed&quot; and no warnings or errors are generated, then an empty list should be returned.</p><p>This method may be called in a background thread, so subclasses should take care to ensure that only thread-safe methods are used. It is always preceded by a call to <a href="classQgsAbstractValidityCheck.html#a2d811b1cd02c85e0a55f29129d5c2606" class="m-doc">prepareCheck()</a>.</p><p>If a check needs to perform non-thread-safe tests, these should be implemented within <a href="classQgsAbstractValidityCheck.html#a2d811b1cd02c85e0a55f29129d5c2606" class="m-doc">prepareCheck()</a> and stored in the subclass instance to be returned by this method.</p><p>The <em>context</em> argument gives the wider in which the check is being run.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
