<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsCustomDropHandler class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsCustomDropHandler <span class="m-thin">class</span>
        </h1>
        <p>Abstract base class that may be implemented to handle new types of data to be dropped in QGIS.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>Implementations have three approaches they can use to handle drops.</p><ol><li>The simplest approach is to implement handeFileDrop() when they need to handle dropped files (i.e. with mime type &quot;text/uri-list&quot;).</li><li>Reimplement <a href="classQgsCustomDropHandler.html#a4397dd44c21285abe4686a1941c90d32" class="m-doc">handleCustomUriDrop()</a> when they want to handle dropped custom <a href="structQgsMimeDataUtils_1_1Uri.html" class="m-doc">QgsMimeDataUtils::<wbr />Uri</a> entries, for instance handling dropping custom entries from the browser tree (with mime type &quot;application/x-vnd.qgis.qgis.uri&quot;). In this case the implementation&#x27;s <a href="classQgsCustomDropHandler.html#a28b67041d39a1d91ba4dbdecac3f9ab0" class="m-doc">customUriProviderKey()</a> must match the uri entry&#x27;s providerKey.</li><li>Reimplement <a href="classQgsCustomDropHandler.html#a117bbeaf137051f165ced74a50e32a24" class="m-doc">handleMimeData()</a> to directly handle dropped QMimeData. Subclasses should take care when overriding this method. When a drop event occurs, Qt will lock the source application of the drag for the duration of the drop event handling via <a href="classQgsCustomDropHandler.html#a117bbeaf137051f165ced74a50e32a24" class="m-doc">handleMimeData()</a> (e.g. dragging files from explorer to QGIS will lock the explorer window until the drop handling has been complete). Accordingly <a href="classQgsCustomDropHandler.html#a117bbeaf137051f165ced74a50e32a24" class="m-doc">handleMimeData()</a> implementations must return quickly and defer any intensive or slow processing.</li></ol><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a28b67041d39a1d91ba4dbdecac3f9ab0" class="m-doc">customUriProviderKey</a>(</span><span class="m-doc-wrap">) const -&gt; QString <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Type of custom URI recognized by the handler.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a4397dd44c21285abe4686a1941c90d32" class="m-doc">handleCustomUriDrop</a>(</span><span class="m-doc-wrap">const <a href="structQgsMimeDataUtils_1_1Uri.html" class="m-doc">QgsMimeDataUtils::<wbr />Uri</a>&amp; uri) const <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Called from QGIS after a drop event with custom URI known by the handler.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a19ccf7ebc35f6c2e1b6771023532e28f" class="m-doc">handleFileDrop</a>(</span><span class="m-doc-wrap">const QString&amp; file) -&gt; bool <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Called when the specified <em>file</em> has been dropped onto QGIS.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a117bbeaf137051f165ced74a50e32a24" class="m-doc">handleMimeData</a>(</span><span class="m-doc-wrap">const QMimeData* data) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Called when the specified mime <em>data</em> has been dropped onto QGIS.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a28b67041d39a1d91ba4dbdecac3f9ab0"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QString QgsCustomDropHandler::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a28b67041d39a1d91ba4dbdecac3f9ab0" class="m-doc-self">customUriProviderKey</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Type of custom URI recognized by the handler.</p>
<p>This must match the URI entry&#x27;s providerKey in order for <a href="classQgsCustomDropHandler.html#a4397dd44c21285abe4686a1941c90d32" class="m-doc">handleCustomUriDrop()</a> to be called.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsCustomDropHandler.html#a4397dd44c21285abe4686a1941c90d32" class="m-doc">handleCustomUriDrop()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a4397dd44c21285abe4686a1941c90d32"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsCustomDropHandler::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a4397dd44c21285abe4686a1941c90d32" class="m-doc-self">handleCustomUriDrop</a>(</span><span class="m-doc-wrap">const <a href="structQgsMimeDataUtils_1_1Uri.html" class="m-doc">QgsMimeDataUtils::<wbr />Uri</a>&amp; uri) const <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Called from QGIS after a drop event with custom URI known by the handler.</p>
<p>In order for <a href="classQgsCustomDropHandler.html#a4397dd44c21285abe4686a1941c90d32" class="m-doc">handleCustomUriDrop()</a> to be called, subclasses must also implement <a href="classQgsCustomDropHandler.html#a28b67041d39a1d91ba4dbdecac3f9ab0" class="m-doc">customUriProviderKey()</a> to indicate the providerKey value which the handler accepts.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsCustomDropHandler.html#a28b67041d39a1d91ba4dbdecac3f9ab0" class="m-doc">customUriProviderKey()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a19ccf7ebc35f6c2e1b6771023532e28f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsCustomDropHandler::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a19ccf7ebc35f6c2e1b6771023532e28f" class="m-doc-self">handleFileDrop</a>(</span><span class="m-doc-wrap">const QString&amp; file) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Called when the specified <em>file</em> has been dropped onto QGIS.</p>
<p>If true is returned, then the handler has accepted this file and it should not be further processed (e.g. by other QgsCustomDropHandlers).</p><p>The base class implementation does nothing.</p><p>This method is not called directly while drop handling is occurring, so the limitations described in <a href="classQgsCustomDropHandler.html#a117bbeaf137051f165ced74a50e32a24" class="m-doc">handleMimeData()</a> about returning quickly do not apply.</p>
          </div></section>
          <section class="m-doc-details" id="a117bbeaf137051f165ced74a50e32a24"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsCustomDropHandler::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a117bbeaf137051f165ced74a50e32a24" class="m-doc-self">handleMimeData</a>(</span><span class="m-doc-wrap">const QMimeData* data) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Called when the specified mime <em>data</em> has been dropped onto QGIS.</p>
<p>The base class implementation does nothing.</p><p>Subclasses should take care when overriding this method. When a drop event occurs, Qt will lock the source application of the drag for the duration of the drop event handling (e.g. dragging files from explorer to QGIS will lock the explorer window until the drop handling has been complete).</p><p>Accordingly, only implementations must be lightweight and return ASAP. (For instance by copying the relevant parts of <em>data</em> and then handling the data after a short timeout).</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
