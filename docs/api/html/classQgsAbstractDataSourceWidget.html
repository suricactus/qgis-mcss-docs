<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsAbstractDataSourceWidget class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsAbstractDataSourceWidget <span class="m-thin">class</span>
        </h1>
        <p>Abstract base Data Source Widget to create connections and add layers This class provides common functionality and the interface for all source select dialogs used by data providers to configure data sources and add layers.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#derived-classes">Derived classes</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#signals">Signals</a></li>
                <li><a href="#pub-slots">Public slots</a></li>
                <li><a href="#pro-methods">Protected functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
        <section id="derived-classes">
          <h2><a href="#derived-classes">Derived classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classQgsOWSSourceSelect.html" class="m-doc">QgsOWSSourceSelect</a>
            </dt>
            <dd>Dialog to create connections and add layers WCS etc.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a4e0580aa57ddf69d03a2c0c1359a1f6b" class="m-doc-self" name="a4e0580aa57ddf69d03a2c0c1359a1f6b">QgsAbstractDataSourceWidget</a>(</span><span class="m-doc-wrap">QWidget* parent = nullptr,
              Qt::WindowFlags fl = QgsGuiUtils::ModalDialogFlags,
              <a href="classQgsProviderRegistry.html#a61aa28b3e612e5529e4b47f745161b67" class="m-doc">QgsProviderRegistry::<wbr />WidgetMode</a> widgetMode = QgsProviderRegistry::WidgetMode::None) <span class="m-label m-flat m-warning">protected</span></span>
            </dt>
            <dd>Constructor.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a061d51c0aea54e9d91ec37941cb23c30" class="m-doc-self" name="a061d51c0aea54e9d91ec37941cb23c30">setMapCanvas</a>(</span><span class="m-doc-wrap">const <a href="classQgsMapCanvas.html" class="m-doc">QgsMapCanvas</a>* mapCanvas)</span>
            </dt>
            <dd>Store a pointer to the map canvas to retrieve extent and CRS Used to select an appropriate CRS and possibly to retrieve data only in the current extent.</dd>
          </dl>
        </section>
        <section id="signals">
          <h2><a href="#signals">Signals</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ac479da6f0417e3aa5886d78a6b09f1ad" class="m-doc-self" name="ac479da6f0417e3aa5886d78a6b09f1ad">addDatabaseLayers</a>(</span><span class="m-doc-wrap">const QStringList&amp; paths,
              const QString&amp; providerKey)</span>
            </dt>
            <dd>Emitted when a DB layer has been selected for addition.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a6e6672518238cfe0bc9b40cd202bf9d2" class="m-doc">addMeshLayer</a>(</span><span class="m-doc-wrap">const QString&amp; url,
              const QString&amp; baseName,
              const QString&amp; providerKey)</span>
            </dt>
            <dd>Emitted when a mesh layer has been selected for addition.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a72e66f5c728b7e0315c1a34f32c016d6" class="m-doc-self" name="a72e66f5c728b7e0315c1a34f32c016d6">addRasterLayer</a>(</span><span class="m-doc-wrap">const QString&amp; rasterLayerPath,
              const QString&amp; baseName,
              const QString&amp; providerKey)</span>
            </dt>
            <dd>Emitted when a raster layer has been selected for addition.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ab92617d0a599ecc956abec5c4197089f" class="m-doc">addVectorLayer</a>(</span><span class="m-doc-wrap">const QString&amp; uri,
              const QString&amp; layerName,
              const QString&amp; providerKey = QString())</span>
            </dt>
            <dd>Emitted when a vector layer has been selected for addition.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#aa10fec51f44c5d4de037ea11e7f9226e" class="m-doc">addVectorLayers</a>(</span><span class="m-doc-wrap">const QStringList&amp; layerList,
              const QString&amp; encoding,
              const QString&amp; dataSourceType)</span>
            </dt>
            <dd>Emitted when one or more OGR supported layers are selected for addition.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a5f39500918f67a672141d44a4fe1333b" class="m-doc-self" name="a5f39500918f67a672141d44a4fe1333b">connectionsChanged</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Emitted when the provider&#x27;s connections have changed This signal is normally forwarded the app and used to refresh browser items.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a05700f78d9cf3ac4071d79cd0bd5fcd6" class="m-doc-self" name="a05700f78d9cf3ac4071d79cd0bd5fcd6">enableButtons</a>(</span><span class="m-doc-wrap">bool enable)</span>
            </dt>
            <dd>Emitted when the ok/add buttons should be enabled/disabled.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a0a45faec317db03444f3f9ae999e5863" class="m-doc">progress</a>(</span><span class="m-doc-wrap">int,
              int) -&gt; Q_DECL_DEPRECATED void <span class="m-label m-danger">deprecated</span></span>
            </dt>
            <dd>Emitted when a progress dialog is shown by the provider dialog.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a9a095a7d7e9436023139f43d69f5f626" class="m-doc-self" name="a9a095a7d7e9436023139f43d69f5f626">progressMessage</a>(</span><span class="m-doc-wrap">QString message)</span>
            </dt>
            <dd>Emitted when a progress dialog is shown by the provider dialog.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a5c3fe7479c1d43b0faeca894dcac5228" class="m-doc">replaceVectorLayer</a>(</span><span class="m-doc-wrap">const QString&amp; oldId,
              const QString&amp; source,
              const QString&amp; name,
              const QString&amp; provider)</span>
            </dt>
            <dd>Emitted when a layer needs to be replaced.</dd>
          </dl>
        </section>
        <section id="pub-slots">
          <h2><a href="#pub-slots">Public slots</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a6a70b484de238965ef05f0080aaec7f3" class="m-doc-self" name="a6a70b484de238965ef05f0080aaec7f3">addButtonClicked</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Triggered when the add button is clicked, the add layer signal is emitted Concrete classes should implement the right behavior depending on the layer being added.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a74d60bd65c14ab9434c4de7b71543a8d" class="m-doc-self" name="a74d60bd65c14ab9434c4de7b71543a8d">refresh</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Triggered when the provider&#x27;s connections need to be refreshed The default implementation does nothing.</dd>
          </dl>
        </section>
        <section id="pro-methods">
          <h2><a href="#pro-methods">Protected functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a4e3fe448177a0299cd22ee6ef8d757e1" class="m-doc-self" name="a4e3fe448177a0299cd22ee6ef8d757e1">addButton</a>(</span><span class="m-doc-wrap">) const -&gt; QPushButton*</span>
            </dt>
            <dd>Returns the add Button.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a0f69848e8198399ccd259060e5b996d0" class="m-doc-self" name="a0f69848e8198399ccd259060e5b996d0">mapCanvas</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="classQgsMapCanvas.html" class="m-doc">QgsMapCanvas</a>*</span>
            </dt>
            <dd>Returns the map canvas (can be null)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a2373f6af7519acd556c374c2165db7ef" class="m-doc-self" name="a2373f6af7519acd556c374c2165db7ef">setupButtons</a>(</span><span class="m-doc-wrap">QDialogButtonBox* buttonBox)</span>
            </dt>
            <dd>Connect the ok and apply/add buttons to the slots.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab872accd4a6149561ad3debc40b0a530" class="m-doc-self" name="ab872accd4a6149561ad3debc40b0a530">widgetMode</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="classQgsProviderRegistry.html#a61aa28b3e612e5529e4b47f745161b67" class="m-doc">QgsProviderRegistry::<wbr />WidgetMode</a></span>
            </dt>
            <dd>Returns the widget mode.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a6e6672518238cfe0bc9b40cd202bf9d2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsAbstractDataSourceWidget::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6e6672518238cfe0bc9b40cd202bf9d2" class="m-doc-self">addMeshLayer</a>(</span><span class="m-doc-wrap">const QString&amp; url,
              const QString&amp; baseName,
              const QString&amp; providerKey) <span class="m-label m-success">signal</span></span></span>
            </h3>
            <p>Emitted when a mesh layer has been selected for addition.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.4</p></aside>
          </div></section>
          <section class="m-doc-details" id="ab92617d0a599ecc956abec5c4197089f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsAbstractDataSourceWidget::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab92617d0a599ecc956abec5c4197089f" class="m-doc-self">addVectorLayer</a>(</span><span class="m-doc-wrap">const QString&amp; uri,
              const QString&amp; layerName,
              const QString&amp; providerKey = QString()) <span class="m-label m-success">signal</span></span></span>
            </h3>
            <p>Emitted when a vector layer has been selected for addition.</p>
<p>If <em>providerKey</em> is not specified, the default provider key associated with the source will be used.</p>
          </div></section>
          <section class="m-doc-details" id="aa10fec51f44c5d4de037ea11e7f9226e"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsAbstractDataSourceWidget::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aa10fec51f44c5d4de037ea11e7f9226e" class="m-doc-self">addVectorLayers</a>(</span><span class="m-doc-wrap">const QStringList&amp; layerList,
              const QString&amp; encoding,
              const QString&amp; dataSourceType) <span class="m-label m-success">signal</span></span></span>
            </h3>
            <p>Emitted when one or more OGR supported layers are selected for addition.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">layerList</td>
                  <td>list of layers protocol URIs</td>
                </tr>
                <tr>
                  <td>encoding</td>
                  <td>encoding</td>
                </tr>
                <tr>
                  <td>dataSourceType</td>
                  <td>string (can be &quot;file&quot; or &quot;database&quot;)</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a0a45faec317db03444f3f9ae999e5863"><div>
            <h3>
              <span class="m-doc-wrap-bumper">Q_DECL_DEPRECATED void QgsAbstractDataSourceWidget::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0a45faec317db03444f3f9ae999e5863" class="m-doc-self">progress</a>(</span><span class="m-doc-wrap">int,
              int) <span class="m-label m-success">signal</span></span></span>
            </h3>
            <p>Emitted when a progress dialog is shown by the provider dialog.</p>
<aside class="m-note m-danger"><h4><a href="deprecated.html#_deprecated000038" class="m-doc">Deprecated</a></h4><p>Since QGIS 3.4 this signal is no longer used. Use <a href="classQgsProxyProgressTask.html" class="m-doc">QgsProxyProgressTask</a> instead to show progress reports.</p></aside>
          </div></section>
          <section class="m-doc-details" id="a5c3fe7479c1d43b0faeca894dcac5228"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsAbstractDataSourceWidget::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a5c3fe7479c1d43b0faeca894dcac5228" class="m-doc-self">replaceVectorLayer</a>(</span><span class="m-doc-wrap">const QString&amp; oldId,
              const QString&amp; source,
              const QString&amp; name,
              const QString&amp; provider) <span class="m-label m-success">signal</span></span></span>
            </h3>
            <p>Emitted when a layer needs to be replaced.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">oldId</td>
                  <td>old layer ID</td>
                </tr>
                <tr>
                  <td>source</td>
                  <td>URI of the layer</td>
                </tr>
                <tr>
                  <td>name</td>
                  <td>of the layer</td>
                </tr>
                <tr>
                  <td>provider</td>
                  <td>key</td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
