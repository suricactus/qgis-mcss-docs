<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsMapLayerStyleManager class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsMapLayerStyleManager <span class="m-thin">class</span>
        </h1>
        <p>Management of styles for use with one map layer.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#signals">Signals</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>Stored styles are identified by their names. The manager always keep track of which style of the stored ones is currently active. When the current style is changed, the new style is applied to the associated layer.</p><p>The class takes care of updating itself when the layer&#x27;s current style configuration changes. When some of layer style&#x27;s properties change (e.g. opacity / colors), the style manager will record them in the currently active style without any extra effort required.</p><p>When an instance is created, it creates &quot;default&quot; style (with empty name) recorded from the associated map layer and it is set as the current style. The instance must always contain at least one style (which is the current).</p><p>The style which is marked as current has no style data stored in its entry. This is to avoid duplication of data as all data is stored in map layer and can be retrieved easily. Also when saving, the entry for the current style will be saved with no data because everything is already saved by the map layer itself.</p><p>The class also features support for temporary change of the layer&#x27;s style, ideal for short-term use of a custom style followed by restoration of the original style (for example, when rendering a map with a different than current style).</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.8</p></aside>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a8a7bc3767166e1ecdf259aecbd8323a6" class="m-doc">QgsMapLayerStyleManager</a>(</span><span class="m-doc-wrap"><a href="classQgsMapLayer.html" class="m-doc">QgsMapLayer</a>* layer)</span>
            </dt>
            <dd>Construct a style manager associated with a map layer (must not be null).</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a17390f338dbbda061c15e50b47629fc7" class="m-doc">addStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name,
              const <a href="classQgsMapLayerStyle.html" class="m-doc">QgsMapLayerStyle</a>&amp; style) -&gt; bool</span>
            </dt>
            <dd>Add a style with given name and data.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a6f45544a2f4a8c1141ad895a06260ca4" class="m-doc">addStyleFromLayer</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; bool</span>
            </dt>
            <dd>Add style by cloning the current one.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a231e65d5120f24c4613f3730c6fd9a4d" class="m-doc-self" name="a231e65d5120f24c4613f3730c6fd9a4d">currentStyle</a>(</span><span class="m-doc-wrap">) const -&gt; QString</span>
            </dt>
            <dd>Returns name of the current style.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a484f5230598fc0527c38f87fc34a12ef" class="m-doc">isDefault</a>(</span><span class="m-doc-wrap">const QString&amp; styleName) const -&gt; bool</span>
            </dt>
            <dd>Returns true if this is the default style.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a4054d161676fc6405921c11d81eae403" class="m-doc-self" name="a4054d161676fc6405921c11d81eae403">layer</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="classQgsMapLayer.html" class="m-doc">QgsMapLayer</a>*</span>
            </dt>
            <dd>Gets pointer to the associated map layer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a9ae0fc2393f1338e9fc207c0802a4127" class="m-doc">mapLayerStyles</a>(</span><span class="m-doc-wrap">) const -&gt; QMap&lt;QString, <a href="classQgsMapLayerStyle.html" class="m-doc">QgsMapLayerStyle</a>&gt;</span>
            </dt>
            <dd>Gets available styles for the associated map layer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ab4ff6ec845d851efee5dec39aa2ad865" class="m-doc-self" name="ab4ff6ec845d851efee5dec39aa2ad865">readXml</a>(</span><span class="m-doc-wrap">const QDomElement&amp; mgrElement)</span>
            </dt>
            <dd>Read configuration (for project loading)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a23ab0b557dc0c1ad6a12e1d17798ba63" class="m-doc">removeStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; bool</span>
            </dt>
            <dd>Remove a stored style.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a7a43f242623031eff4885053f255b04b" class="m-doc">renameStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name,
              const QString&amp; newName) -&gt; bool</span>
            </dt>
            <dd>Rename a stored style to a different name.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a4688fccd3efd2cf2db7739123a264c7a" class="m-doc-self" name="a4688fccd3efd2cf2db7739123a264c7a">reset</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Reset the style manager to a basic state - with one default style which is set as current.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a604a041d20691f552ed0e2bd32182ea1" class="m-doc-self" name="a604a041d20691f552ed0e2bd32182ea1">restoreOverrideStyle</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>Restore the original store after a call to <a href="classQgsMapLayerStyleManager.html#aa636818dcdf5b7675d155f6a635ee336" class="m-doc">setOverrideStyle()</a></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a33f9452854c20bca39789ea711c6020b" class="m-doc">setCurrentStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; bool</span>
            </dt>
            <dd>Set a different style as the current style - will apply it to the layer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#aa636818dcdf5b7675d155f6a635ee336" class="m-doc">setOverrideStyle</a>(</span><span class="m-doc-wrap">const QString&amp; styleDef) -&gt; bool</span>
            </dt>
            <dd>Temporarily apply a different style to the layer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#aa69dbadc8ea056e009863b5a33908c10" class="m-doc-self" name="aa69dbadc8ea056e009863b5a33908c10">style</a>(</span><span class="m-doc-wrap">const QString&amp; name) const -&gt; <a href="classQgsMapLayerStyle.html" class="m-doc">QgsMapLayerStyle</a></span>
            </dt>
            <dd>Returns data of a stored style - accessed by its unique name.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a278ef619ed847353aa8f0755ef813a07" class="m-doc-self" name="a278ef619ed847353aa8f0755ef813a07">styles</a>(</span><span class="m-doc-wrap">) const -&gt; QStringList</span>
            </dt>
            <dd>Returns list of all defined style names.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a43190c6a5a72b1b43d66ef64a56b149e" class="m-doc-self" name="a43190c6a5a72b1b43d66ef64a56b149e">writeXml</a>(</span><span class="m-doc-wrap">QDomElement&amp; mgrElement) const</span>
            </dt>
            <dd>Write configuration (for project saving)</dd>
          </dl>
        </section>
        <section id="signals">
          <h2><a href="#signals">Signals</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ac53b9f588d92a723d9c5380de3846d0f" class="m-doc-self" name="ac53b9f588d92a723d9c5380de3846d0f">currentStyleChanged</a>(</span><span class="m-doc-wrap">const QString&amp; currentName)</span>
            </dt>
            <dd>Emitted when the current style has been changed.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a4144dd93f382cfb3a210c598f3f9395b" class="m-doc-self" name="a4144dd93f382cfb3a210c598f3f9395b">styleAdded</a>(</span><span class="m-doc-wrap">const QString&amp; name)</span>
            </dt>
            <dd>Emitted when a new style has been added.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ad0320309e4e70578091e6c137ff22c76" class="m-doc-self" name="ad0320309e4e70578091e6c137ff22c76">styleRemoved</a>(</span><span class="m-doc-wrap">const QString&amp; name)</span>
            </dt>
            <dd>Emitted when a style has been removed.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a592855bd2ea657b689c9cc8e50a10cfc" class="m-doc-self" name="a592855bd2ea657b689c9cc8e50a10cfc">styleRenamed</a>(</span><span class="m-doc-wrap">const QString&amp; oldName,
              const QString&amp; newName)</span>
            </dt>
            <dd>Emitted when a style has been renamed.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a8a7bc3767166e1ecdf259aecbd8323a6"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8a7bc3767166e1ecdf259aecbd8323a6" class="m-doc-self">QgsMapLayerStyleManager</a>(</span><span class="m-doc-wrap"><a href="classQgsMapLayer.html" class="m-doc">QgsMapLayer</a>* layer)</span></span>
            </h3>
            <p>Construct a style manager associated with a map layer (must not be null).</p>
<p>The style manager will be parented to <em>layer</em>.</p>
          </div></section>
          <section class="m-doc-details" id="a17390f338dbbda061c15e50b47629fc7"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a17390f338dbbda061c15e50b47629fc7" class="m-doc-self">addStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name,
              const <a href="classQgsMapLayerStyle.html" class="m-doc">QgsMapLayerStyle</a>&amp; style)</span></span>
            </h3>
            <p>Add a style with given name and data.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>true on success (name is unique and style is valid)</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a6f45544a2f4a8c1141ad895a06260ca4"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6f45544a2f4a8c1141ad895a06260ca4" class="m-doc-self">addStyleFromLayer</a>(</span><span class="m-doc-wrap">const QString&amp; name)</span></span>
            </h3>
            <p>Add style by cloning the current one.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>true on success</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a484f5230598fc0527c38f87fc34a12ef"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a484f5230598fc0527c38f87fc34a12ef" class="m-doc-self">isDefault</a>(</span><span class="m-doc-wrap">const QString&amp; styleName) const</span></span>
            </h3>
            <p>Returns true if this is the default style.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a9ae0fc2393f1338e9fc207c0802a4127"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QMap&lt;QString, <a href="classQgsMapLayerStyle.html" class="m-doc">QgsMapLayerStyle</a>&gt; QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9ae0fc2393f1338e9fc207c0802a4127" class="m-doc-self">mapLayerStyles</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Gets available styles for the associated map layer.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>A map of map layer style by style name</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a23ab0b557dc0c1ad6a12e1d17798ba63"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a23ab0b557dc0c1ad6a12e1d17798ba63" class="m-doc-self">removeStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name)</span></span>
            </h3>
            <p>Remove a stored style.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>true on success (style exists and it is not the last one)</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a7a43f242623031eff4885053f255b04b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a7a43f242623031eff4885053f255b04b" class="m-doc-self">renameStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name,
              const QString&amp; newName)</span></span>
            </h3>
            <p>Rename a stored style to a different name.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>true on success (style exists and new name is unique)</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a33f9452854c20bca39789ea711c6020b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a33f9452854c20bca39789ea711c6020b" class="m-doc-self">setCurrentStyle</a>(</span><span class="m-doc-wrap">const QString&amp; name)</span></span>
            </h3>
            <p>Set a different style as the current style - will apply it to the layer.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>true on success</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="aa636818dcdf5b7675d155f6a635ee336"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsMapLayerStyleManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aa636818dcdf5b7675d155f6a635ee336" class="m-doc-self">setOverrideStyle</a>(</span><span class="m-doc-wrap">const QString&amp; styleDef)</span></span>
            </h3>
            <p>Temporarily apply a different style to the layer.</p>
<p>The argument can be either a style name or a full QML style definition. Each call must be paired with <a href="classQgsMapLayerStyleManager.html#a604a041d20691f552ed0e2bd32182ea1" class="m-doc">restoreOverrideStyle()</a></p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
