<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QgsExpression class | QGIS API Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">QGIS API Documentation</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="https://github.com/QGIS/QGIS">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          QgsExpression <span class="m-thin">class</span>
        </h1>
        <p>Class for parsing and evaluation of expressions (formerly called &quot;search strings&quot;).</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-types">Public types</a></li>
                <li><a href="#pub-static-attribs">Public static variables</a></li>
                <li><a href="#pub-static-methods">Public static functions</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>The expressions try to follow both syntax and semantics of SQL expressions.</p><p>Usage:</p><pre class="m-code"><span class="n">QgsExpression</span> <span class="nf">exp</span><span class="p">(</span><span class="s">&quot;gid*2 &gt; 10 and type not in (&#39;D&#39;,&#39;F&#39;)&quot;)</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="n">hasParserError</span><span class="p">())</span>
<span class="p">{</span>
  <span class="c1">// show error message with parserErrorString() and exit</span>
<span class="p">}</span>
<span class="n">QVariant</span> <span class="n">result</span> <span class="o">=</span> <span class="n">exp</span><span class="p">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="n">fields</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="n">hasEvalError</span><span class="p">())</span>
<span class="p">{</span>
  <span class="c1">// show error message with evalErrorString()</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="c1">// examine the result</span>
<span class="p">}</span></pre><h2>Three Value Logic </h2><p>Similarly to SQL, this class supports three-value logic: true/false/unknown. Unknown value may be a result of operations with missing data (NULL). Please note that NULL is different value than zero or an empty string. For example 3 &gt; NULL returns unknown.</p><p>There is no special (three-value) &#x27;boolean&#x27; type: true/false is represented as 1/0 integer, unknown value is represented the same way as NULL values: NULL QVariant.</p><h2>Performance </h2><p>For better performance with many evaluations you may first call prepare(fields) function to find out indices of columns and then repeatedly call evaluate(feature).</p><h2>Type conversion </h2><p>Operators and functions that expect arguments to be of a particular type automatically convert the arguments to that type, e.g. sin(&#x27;2.1&#x27;) will convert the argument to a double, length(123) will first convert the number to a string. Explicit conversion can be achieved with to_int, to_real, to_string functions. If implicit or explicit conversion is invalid, the evaluation returns an error. Comparison operators do numeric comparison in case both operators are numeric (int/double) or they can be converted to numeric types.</p><h2>Implicit sharing </h2><p>This class is implicitly shared, copying has a very low overhead. It is normally preferable to call <code><a href="classQgsExpression.html" class="m-doc">QgsExpression( otherExpression )</a></code> instead of <code><a href="classQgsExpression.html" class="m-doc">QgsExpression</a>( otherExpression.expression() )</code>. A deep copy will only be made when <a href="classQgsExpression.html#a0285763c2bc4a7202878e7723b9c5ce2" class="m-doc">prepare()</a> is called. For usage this means mainly, that you should normally keep an unprepared master copy of a <a href="classQgsExpression.html" class="m-doc">QgsExpression</a> and whenever using it with a particular <a href="classQgsFeatureIterator.html" class="m-doc">QgsFeatureIterator</a> copy it just before and prepare it using the same context as the iterator.</p><p>Implicit sharing was added in 2.14</p>
        <section id="pub-types">
          <h2><a href="#pub-types">Public types</a></h2>
          <dl class="m-doc">
            <dt>
              struct <a href="structQgsExpression_1_1ParserError.html" class="m-doc">ParserError</a>
            </dt>
            <dd>Details about any parser errors that were found when parsing the expression.</dd>
          </dl>
        </section>
        <section id="pub-static-attribs">
          <h2><a href="#pub-static-attribs">Public static variables</a></h2>
          <dl class="m-doc">
            <dt>
              static QStringList <a href="#a4d6ec3434ccbf3bff65a6d865ee8a90f" class="m-doc">sBuiltinFunctions</a>
            </dt>
            <dd></dd>
            <dt>
              static QList&lt;<a href="classQgsExpressionFunction.html" class="m-doc">QgsExpressionFunction</a>*&gt; <a href="#a3055bacc2aa733906149a6c6a1ac8d75" class="m-doc">sFunctions</a>
            </dt>
            <dd></dd>
            <dt>
              static QList&lt;<a href="classQgsExpressionFunction.html" class="m-doc">QgsExpressionFunction</a>*&gt; <a href="#a2f6be212ceb140221faf382768a03b76" class="m-doc">sOwnedFunctions</a>
            </dt>
            <dd>List of functions owned by the expression engine.</dd>
          </dl>
        </section>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#afe5e1cb19de48ff8714e2338003ba6cb" class="m-doc">checkExpression</a>(</span><span class="m-doc-wrap">const QString&amp; text,
              const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context,
              QString&amp; errorMessage) -&gt; bool</span>
            </dt>
            <dd>Tests whether a string is a valid expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static void <a href="#a0d9918089a0818137eeaa0ff8244d61c" class="m-doc">cleanRegisteredFunctions</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Deletes all registered functions whose ownership have been transferred to the expression engine.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a8a5d203eb763bfa484df803ba46473ae" class="m-doc">createFieldEqualityExpression</a>(</span><span class="m-doc-wrap">const QString&amp; fieldName,
              const QVariant&amp; value) -&gt; QString</span>
            </dt>
            <dd>Create an expression allowing to evaluate if a field is equal to a value.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a22f525ac79d09d864b86edfbf56fe1e8" class="m-doc">evaluateToDouble</a>(</span><span class="m-doc-wrap">const QString&amp; text,
              double fallbackValue) -&gt; double</span>
            </dt>
            <dd>Attempts to evaluate a text string as an expression to a resultant double value.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a09c93c04c3e4b257e12031b3a2798824" class="m-doc">formatPreviewString</a>(</span><span class="m-doc-wrap">const QVariant&amp; value,
              bool htmlOutput = true) -&gt; QString</span>
            </dt>
            <dd>Formats an expression result for friendly display to the user.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ad5cbf2fa7dcdfe6bc61b98cdf09c5f67" class="m-doc">formatVariableHelp</a>(</span><span class="m-doc-wrap">const QString&amp; description,
              bool showValue = true,
              const QVariant&amp; value = QVariant()) -&gt; QString</span>
            </dt>
            <dd>Returns formatted help text for a variable.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a290e46c4bfcb4af3ab0ac944cdf927a2" class="m-doc">functionCount</a>(</span><span class="m-doc-wrap">) -&gt; int</span>
            </dt>
            <dd>Returns the number of functions defined in the parser.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a20cb1ca0bf870edb9c29edbb0a984a10" class="m-doc-self" name="a20cb1ca0bf870edb9c29edbb0a984a10">functionIndex</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; int</span>
            </dt>
            <dd>Returns index of the function in Functions array.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ab7bcb533b56f900b43a863d102e0ba8f" class="m-doc">group</a>(</span><span class="m-doc-wrap">const QString&amp; group) -&gt; QString</span>
            </dt>
            <dd>Returns the translated name for a function group.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a9aa84954036549de593eef3fd0393b2b" class="m-doc">helpText</a>(</span><span class="m-doc-wrap">QString name) -&gt; QString</span>
            </dt>
            <dd>Returns the help text for a specified function.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a343b21611e75946213f9a1767ecab088" class="m-doc-self" name="a343b21611e75946213f9a1767ecab088">isFunctionName</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; bool</span>
            </dt>
            <dd>tells whether the identifier is a name of existing function</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ac097a532fe4113c3c648f800270feeb6" class="m-doc">quotedColumnRef</a>(</span><span class="m-doc-wrap">QString name) -&gt; QString</span>
            </dt>
            <dd>Returns a quoted column reference (in double quotes)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a2da0ec1d5d759bf0e3947f0e7ac946f7" class="m-doc">quotedString</a>(</span><span class="m-doc-wrap">QString text) -&gt; QString</span>
            </dt>
            <dd>Returns a quoted version of a string (in single quotes)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a16635b2f5be459e2348cc1fdd00f7689" class="m-doc">quotedValue</a>(</span><span class="m-doc-wrap">const QVariant&amp; value) -&gt; QString</span>
            </dt>
            <dd>Returns a string representation of a literal value, including appropriate quotations where required.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#ab1f6b7d6d0ead216d94ebc3e76eb7649" class="m-doc">quotedValue</a>(</span><span class="m-doc-wrap">const QVariant&amp; value,
              QVariant::Type type) -&gt; QString</span>
            </dt>
            <dd>Returns a string representation of a literal value, including appropriate quotations where required.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#abc4900eea538ba0cd2d80fcf738705d5" class="m-doc">referencedVariables</a>(</span><span class="m-doc-wrap">const QString&amp; text) -&gt; QSet&lt;QString&gt;</span>
            </dt>
            <dd>This function returns variables in each expression between [% and %].</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a156907cc7f06ffa70198f0db51dc928b" class="m-doc">registerFunction</a>(</span><span class="m-doc-wrap"><a href="classQgsExpressionFunction.html" class="m-doc">QgsExpressionFunction</a>* function,
              bool transferOwnership = false) -&gt; bool</span>
            </dt>
            <dd>Registers a function to the expression engine.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a5d51cbf8b96a2b4d2ce115171e5522fd" class="m-doc">replaceExpressionText</a>(</span><span class="m-doc-wrap">const QString&amp; action,
              const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context,
              const <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>* distanceArea = nullptr) -&gt; QString</span>
            </dt>
            <dd>This function replaces each expression between [% and %] in the string with the result of its evaluation with the specified context.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a9ec4e7dbdd799f0cdeb90c5402dde048" class="m-doc">unregisterFunction</a>(</span><span class="m-doc-wrap">const QString&amp; name) -&gt; bool</span>
            </dt>
            <dd>Unregisters a function from the expression engine.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a3976fd1aaa7537bd091b46fab972149b" class="m-doc">variableHelpText</a>(</span><span class="m-doc-wrap">const QString&amp; variableName) -&gt; QString</span>
            </dt>
            <dd>Returns the help text for a specified variable.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#ad6fb2304bf9bb52faff3c159b99dfd0a" class="m-doc">QgsExpression</a>(</span><span class="m-doc-wrap">const QString&amp; expr)</span>
            </dt>
            <dd>Creates a new expression based on the provided string.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a55be0e5380a32cb1296e2a46570a8cb0" class="m-doc">QgsExpression</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; other)</span>
            </dt>
            <dd>Create a copy of this expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a883d6a2bff57f3a6a3e40659e6e19d98" class="m-doc">QgsExpression</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Create an empty expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a3ba97853186ab2925aee36fd22103606" class="m-doc">operator QString</a>(</span><span class="m-doc-wrap">) const</span>
            </dt>
            <dd>Automatically convert this expression to a string where requested.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a826637f29c885a28e7133e36ba06f46f" class="m-doc">areaUnits</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="classQgsUnitTypes.html#ab05b10caef047c173a83a5c8838a061a" class="m-doc">QgsUnitTypes::<wbr />AreaUnit</a></span>
            </dt>
            <dd>Returns the desired areal units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$area&quot;.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab9f75d8a4e8359ea013e00348f286d5f" class="m-doc">distanceUnits</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="classQgsUnitTypes.html#a0602e8a06afd37c267e9e532bb27f50d" class="m-doc">QgsUnitTypes::<wbr />DistanceUnit</a></span>
            </dt>
            <dd>Returns the desired distance units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$length&quot; and &quot;$perimeter&quot;.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a964405819287c1dc7d6256dba11ccf21" class="m-doc">dump</a>(</span><span class="m-doc-wrap">) const -&gt; QString</span>
            </dt>
            <dd>Returns an expression string, constructed from the internal abstract syntax tree.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3aa8dc1071b06e692a3fdadfd78bd42c" class="m-doc-self" name="a3aa8dc1071b06e692a3fdadfd78bd42c">evalErrorString</a>(</span><span class="m-doc-wrap">) const -&gt; QString</span>
            </dt>
            <dd>Returns evaluation error.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#aed92c6b72450d23e340f55b9844d14b0" class="m-doc">evaluate</a>(</span><span class="m-doc-wrap">) -&gt; QVariant</span>
            </dt>
            <dd>Evaluate the feature and return the result.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a279785f0a59cc4ac977022797599bdc6" class="m-doc">evaluate</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context) -&gt; QVariant</span>
            </dt>
            <dd>Evaluate the expression against the specified context and return the result.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a088d751afb7cc54785b69eba09e433f1" class="m-doc">expression</a>(</span><span class="m-doc-wrap">) const -&gt; QString</span>
            </dt>
            <dd>Returns the original, unmodified expression string.</dd>
            <dt>
              <div class="m-doc-template">template&lt;class T&gt;</div>
              <span class="m-doc-wrap-bumper">auto <a href="#a83560cb2a0e956d71ac62b28cb559c1f" class="m-doc">findNodes</a>(</span><span class="m-doc-wrap">) const -&gt; QList&lt;const T*&gt;</span>
            </dt>
            <dd>Returns a list of all nodes of the given class which are used in this expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator</a>(</span><span class="m-doc-wrap">) -&gt; <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>*</span>
            </dt>
            <dd>Returns calculator used for distance and area calculations (used by $length, $area and $perimeter functions only)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ad28c51ada5bc7b3ad6d76e7a9fd92cfc" class="m-doc-self" name="ad28c51ada5bc7b3ad6d76e7a9fd92cfc">hasEvalError</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>Returns true if an error occurred when evaluating last input.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3636e8467726b4767f2f2806d083dc5d" class="m-doc-self" name="a3636e8467726b4767f2f2806d083dc5d">hasParserError</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>Returns true if an error occurred when parsing the input expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a748d8721011bf26864dd5b7c458d0680" class="m-doc">isField</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>Checks whether an expression consists only of a single field reference.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#af30007688deb7583391c5c71ccdb84ad" class="m-doc">isValid</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>Checks if this expression is valid.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ae2fbc77e693c755269305212eb3bfb37" class="m-doc-self" name="ae2fbc77e693c755269305212eb3bfb37">needsGeometry</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd>Returns true if the expression uses feature geometry for some computation.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a2a8ce2966c260497d77555c3f8c8d124" class="m-doc">nodes</a>(</span><span class="m-doc-wrap">) const -&gt; QList&lt;const <a href="classQgsExpressionNode.html" class="m-doc">QgsExpressionNode</a>*&gt;</span>
            </dt>
            <dd>Returns a list of all nodes which are used in this expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a06860926aa2e4d9553a9eb0e20b0650e" class="m-doc">operator=</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; other) -&gt; <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp;</span>
            </dt>
            <dd>Create a copy of this expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a527839698d3437bf896d648a021277b5" class="m-doc">operator==</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; other) const -&gt; bool</span>
            </dt>
            <dd>Compares two expressions.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3a5d8dc84a2cb677dcf02d269bd9d6a3" class="m-doc">parserErrors</a>(</span><span class="m-doc-wrap">) const -&gt; QList&lt;<a href="structQgsExpression_1_1ParserError.html" class="m-doc">QgsExpression::<wbr />ParserError</a>&gt;</span>
            </dt>
            <dd>Returns parser error details including location of error.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a5a0caebf6fde03106c509cb0cdbc05a9" class="m-doc-self" name="a5a0caebf6fde03106c509cb0cdbc05a9">parserErrorString</a>(</span><span class="m-doc-wrap">) const -&gt; QString</span>
            </dt>
            <dd>Returns parser error.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a0285763c2bc4a7202878e7723b9c5ce2" class="m-doc">prepare</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context) -&gt; bool</span>
            </dt>
            <dd>Gets the expression ready for evaluation - find out column indexes.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#afca235efb1d341782df1dce301538fb1" class="m-doc">referencedAttributeIndexes</a>(</span><span class="m-doc-wrap">const <a href="classQgsFields.html" class="m-doc">QgsFields</a>&amp; fields) const -&gt; QSet&lt;int&gt;</span>
            </dt>
            <dd>Returns a list of field name indexes obtained from the provided fields.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a75ca21b18b29c445a88bc212b1fdf1ed" class="m-doc">referencedColumns</a>(</span><span class="m-doc-wrap">) const -&gt; QSet&lt;QString&gt;</span>
            </dt>
            <dd>Gets list of columns referenced by the expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab628ee5b51f27bc56b55e3571765fbbd" class="m-doc">referencedFunctions</a>(</span><span class="m-doc-wrap">) const -&gt; QSet&lt;QString&gt;</span>
            </dt>
            <dd>Returns a list of the names of all functions which are used in this expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a32cc13155574d799720f7fec906617e0" class="m-doc">referencedVariables</a>(</span><span class="m-doc-wrap">) const -&gt; QSet&lt;QString&gt;</span>
            </dt>
            <dd>Returns a list of all variables which are used in this expression.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ace3c8447a8429d1a642c1d6fdabfe837" class="m-doc-self" name="ace3c8447a8429d1a642c1d6fdabfe837">rootNode</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="classQgsExpressionNode.html" class="m-doc">QgsExpressionNode</a>*</span>
            </dt>
            <dd>Returns root node of the expression. Root node is null is parsing has failed.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#acb090c93e2c8576267bf8fe121d12454" class="m-doc">setAreaUnits</a>(</span><span class="m-doc-wrap"><a href="classQgsUnitTypes.html#ab05b10caef047c173a83a5c8838a061a" class="m-doc">QgsUnitTypes::<wbr />AreaUnit</a> unit)</span>
            </dt>
            <dd>Sets the desired areal units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$area&quot;.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a6d568e034aec07bf98dddecceccdb894" class="m-doc">setDistanceUnits</a>(</span><span class="m-doc-wrap"><a href="classQgsUnitTypes.html#a0602e8a06afd37c267e9e532bb27f50d" class="m-doc">QgsUnitTypes::<wbr />DistanceUnit</a> unit)</span>
            </dt>
            <dd>Sets the desired distance units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$length&quot; and &quot;$perimeter&quot;.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#abaef4ef91cfe086fdc67a17b7e82f725" class="m-doc-self" name="abaef4ef91cfe086fdc67a17b7e82f725">setEvalErrorString</a>(</span><span class="m-doc-wrap">const QString&amp; str)</span>
            </dt>
            <dd>Sets evaluation error (used internally by evaluation functions)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a1e65240b668da7f8e098f7d55d4f9f7a" class="m-doc">setExpression</a>(</span><span class="m-doc-wrap">const QString&amp; expression)</span>
            </dt>
            <dd>Set the expression string, will reset the whole internal structure.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#acc299a58fce972fd8dd76acfbaf85aba" class="m-doc">setGeomCalculator</a>(</span><span class="m-doc-wrap">const <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>* calc)</span>
            </dt>
            <dd>Sets the geometry calculator used for distance and area calculations in expressions.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="afe5e1cb19de48ff8714e2338003ba6cb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#afe5e1cb19de48ff8714e2338003ba6cb" class="m-doc-self">checkExpression</a>(</span><span class="m-doc-wrap">const QString&amp; text,
              const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context,
              QString&amp; errorMessage)</span></span>
            </h3>
            <p>Tests whether a string is a valid expression.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">text</td>
                  <td>string to test</td>
                </tr>
                <tr>
                  <td>context</td>
                  <td>optional expression context</td>
                </tr>
                <tr>
                  <td>errorMessage</td>
                  <td>will be filled with any error message from the validation</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true if string is a valid expression</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="a0d9918089a0818137eeaa0ff8244d61c"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static void QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0d9918089a0818137eeaa0ff8244d61c" class="m-doc-self">cleanRegisteredFunctions</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Deletes all registered functions whose ownership have been transferred to the expression engine.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="a8a5d203eb763bfa484df803ba46473ae"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8a5d203eb763bfa484df803ba46473ae" class="m-doc-self">createFieldEqualityExpression</a>(</span><span class="m-doc-wrap">const QString&amp; fieldName,
              const QVariant&amp; value)</span></span>
            </h3>
            <p>Create an expression allowing to evaluate if a field is equal to a value.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">fieldName</td>
                  <td>the name of the field</td>
                </tr>
                <tr>
                  <td>value</td>
                  <td>the value of the field</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>the expression to evaluate field equality</td>
                </tr>
              </tfoot>
            </table>
<p>The value may be null.</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a22f525ac79d09d864b86edfbf56fe1e8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static double QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a22f525ac79d09d864b86edfbf56fe1e8" class="m-doc-self">evaluateToDouble</a>(</span><span class="m-doc-wrap">const QString&amp; text,
              double fallbackValue)</span></span>
            </h3>
            <p>Attempts to evaluate a text string as an expression to a resultant double value.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">text</td>
                  <td>text to evaluate as expression</td>
                </tr>
                <tr>
                  <td>fallbackValue</td>
                  <td>value to return if text can not be evaluated as a double</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>evaluated double value, or fallback value</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-info"><h4>Note</h4><p>this method is inefficient for bulk evaluation of expressions, it is intended for one-off evaluations only.</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.7</p></aside>
          </div></section>
          <section class="m-doc-details" id="a09c93c04c3e4b257e12031b3a2798824"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a09c93c04c3e4b257e12031b3a2798824" class="m-doc-self">formatPreviewString</a>(</span><span class="m-doc-wrap">const QVariant&amp; value,
              bool htmlOutput = true)</span></span>
            </h3>
            <p>Formats an expression result for friendly display to the user.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">value</td>
                  <td>expression result to format</td>
                </tr>
                <tr>
                  <td>htmlOutput</td>
                  <td>set to true to allow HTML formatting, or false for plain text output</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>formatted string, may contain HTML formatting characters if <em>htmlOutput</em> is true</td>
                </tr>
              </tfoot>
            </table>
<p>Truncates the result to a sensible length, and presents text representations of non numeric/text types (e.g., geometries and features).</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="ad5cbf2fa7dcdfe6bc61b98cdf09c5f67"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad5cbf2fa7dcdfe6bc61b98cdf09c5f67" class="m-doc-self">formatVariableHelp</a>(</span><span class="m-doc-wrap">const QString&amp; description,
              bool showValue = true,
              const QVariant&amp; value = QVariant())</span></span>
            </h3>
            <p>Returns formatted help text for a variable.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">description</td>
                  <td>translated description of variable</td>
                </tr>
                <tr>
                  <td>showValue</td>
                  <td>set to true to include current value of variable in help text</td>
                </tr>
                <tr>
                  <td>value</td>
                  <td>current value of variable to show in help text</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a9aa84954036549de593eef3fd0393b2b" class="m-doc">helpText()</a></p><p><a href="classQgsExpression.html#a3976fd1aaa7537bd091b46fab972149b" class="m-doc">variableHelpText()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a290e46c4bfcb4af3ab0ac944cdf927a2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static int QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a290e46c4bfcb4af3ab0ac944cdf927a2" class="m-doc-self">functionCount</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Returns the number of functions defined in the parser.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The number of function defined in the parser.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ab7bcb533b56f900b43a863d102e0ba8f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab7bcb533b56f900b43a863d102e0ba8f" class="m-doc-self">group</a>(</span><span class="m-doc-wrap">const QString&amp; group)</span></span>
            </h3>
            <p>Returns the translated name for a function group.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">group</td>
                  <td>untranslated group name</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a9aa84954036549de593eef3fd0393b2b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9aa84954036549de593eef3fd0393b2b" class="m-doc-self">helpText</a>(</span><span class="m-doc-wrap">QString name)</span></span>
            </h3>
            <p>Returns the help text for a specified function.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">name</td>
                  <td>function name</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a3976fd1aaa7537bd091b46fab972149b" class="m-doc">variableHelpText()</a></p><p><a href="classQgsExpression.html#ad5cbf2fa7dcdfe6bc61b98cdf09c5f67" class="m-doc">formatVariableHelp()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="ac097a532fe4113c3c648f800270feeb6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac097a532fe4113c3c648f800270feeb6" class="m-doc-self">quotedColumnRef</a>(</span><span class="m-doc-wrap">QString name)</span></span>
            </h3>
            <p>Returns a quoted column reference (in double quotes)</p>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a2da0ec1d5d759bf0e3947f0e7ac946f7" class="m-doc">quotedString()</a></p><p><a href="classQgsExpression.html#a16635b2f5be459e2348cc1fdd00f7689" class="m-doc">quotedValue()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a2da0ec1d5d759bf0e3947f0e7ac946f7"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2da0ec1d5d759bf0e3947f0e7ac946f7" class="m-doc-self">quotedString</a>(</span><span class="m-doc-wrap">QString text)</span></span>
            </h3>
            <p>Returns a quoted version of a string (in single quotes)</p>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a16635b2f5be459e2348cc1fdd00f7689" class="m-doc">quotedValue()</a></p><p><a href="classQgsExpression.html#ac097a532fe4113c3c648f800270feeb6" class="m-doc">quotedColumnRef()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a16635b2f5be459e2348cc1fdd00f7689"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a16635b2f5be459e2348cc1fdd00f7689" class="m-doc-self">quotedValue</a>(</span><span class="m-doc-wrap">const QVariant&amp; value)</span></span>
            </h3>
            <p>Returns a string representation of a literal value, including appropriate quotations where required.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">value</td>
                  <td>value to convert to a string representation</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a2da0ec1d5d759bf0e3947f0e7ac946f7" class="m-doc">quotedString()</a></p><p><a href="classQgsExpression.html#ac097a532fe4113c3c648f800270feeb6" class="m-doc">quotedColumnRef()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="ab1f6b7d6d0ead216d94ebc3e76eb7649"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab1f6b7d6d0ead216d94ebc3e76eb7649" class="m-doc-self">quotedValue</a>(</span><span class="m-doc-wrap">const QVariant&amp; value,
              QVariant::Type type)</span></span>
            </h3>
            <p>Returns a string representation of a literal value, including appropriate quotations where required.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">value</td>
                  <td>value to convert to a string representation</td>
                </tr>
                <tr>
                  <td>type</td>
                  <td>value type</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a2da0ec1d5d759bf0e3947f0e7ac946f7" class="m-doc">quotedString()</a></p><p><a href="classQgsExpression.html#ac097a532fe4113c3c648f800270feeb6" class="m-doc">quotedColumnRef()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="abc4900eea538ba0cd2d80fcf738705d5"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QSet&lt;QString&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#abc4900eea538ba0cd2d80fcf738705d5" class="m-doc-self">referencedVariables</a>(</span><span class="m-doc-wrap">const QString&amp; text)</span></span>
            </h3>
            <p>This function returns variables in each expression between [% and %].</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">text</td>
                  <td>The source string in which variables should be searched.</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.2</p></aside>
          </div></section>
          <section class="m-doc-details" id="a156907cc7f06ffa70198f0db51dc928b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a156907cc7f06ffa70198f0db51dc928b" class="m-doc-self">registerFunction</a>(</span><span class="m-doc-wrap"><a href="classQgsExpressionFunction.html" class="m-doc">QgsExpressionFunction</a>* function,
              bool transferOwnership = false)</span></span>
            </h3>
            <p>Registers a function to the expression engine.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">function</td>
                  <td>function to register</td>
                </tr>
                <tr>
                  <td>transferOwnership</td>
                  <td>set to true to transfer ownership of function to expression engine</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true on successful registration</td>
                </tr>
              </tfoot>
            </table>
<p>This is required to allow expressions to utilize the function.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a9ec4e7dbdd799f0cdeb90c5402dde048" class="m-doc">unregisterFunction</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a5d51cbf8b96a2b4d2ce115171e5522fd"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a5d51cbf8b96a2b4d2ce115171e5522fd" class="m-doc-self">replaceExpressionText</a>(</span><span class="m-doc-wrap">const QString&amp; action,
              const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context,
              const <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>* distanceArea = nullptr)</span></span>
            </h3>
            <p>This function replaces each expression between [% and %] in the string with the result of its evaluation with the specified context.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">action</td>
                  <td>The source string in which placeholders should be replaced.</td>
                </tr>
                <tr>
                  <td>context</td>
                  <td>Expression context</td>
                </tr>
                <tr>
                  <td>distanceArea</td>
                  <td>Optional <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>. If specified, the <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a> is used for distance and area conversion</td>
                </tr>
              </tbody>
            </table>
<p>Additional substitutions can be passed through the substitutionMap parameter</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="a9ec4e7dbdd799f0cdeb90c5402dde048"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9ec4e7dbdd799f0cdeb90c5402dde048" class="m-doc-self">unregisterFunction</a>(</span><span class="m-doc-wrap">const QString&amp; name)</span></span>
            </h3>
            <p>Unregisters a function from the expression engine.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">name</td>
                  <td>function name</td>
                </tr>
              </tbody>
            </table>
<p>The function will no longer be usable in expressions.</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a156907cc7f06ffa70198f0db51dc928b" class="m-doc">registerFunction</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a3976fd1aaa7537bd091b46fab972149b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3976fd1aaa7537bd091b46fab972149b" class="m-doc-self">variableHelpText</a>(</span><span class="m-doc-wrap">const QString&amp; variableName)</span></span>
            </h3>
            <p>Returns the help text for a specified variable.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">variableName</td>
                  <td>name of variable</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a9aa84954036549de593eef3fd0393b2b" class="m-doc">helpText()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="ad6fb2304bf9bb52faff3c159b99dfd0a"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad6fb2304bf9bb52faff3c159b99dfd0a" class="m-doc-self">QgsExpression</a>(</span><span class="m-doc-wrap">const QString&amp; expr)</span></span>
            </h3>
            <p>Creates a new expression based on the provided string.</p>
<p>The string will immediately be parsed. For optimization <a href="classQgsExpression.html#a0285763c2bc4a7202878e7723b9c5ce2" class="m-doc">prepare()</a> should always be called before every loop in which this expression is used.</p>
          </div></section>
          <section class="m-doc-details" id="a55be0e5380a32cb1296e2a46570a8cb0"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a55be0e5380a32cb1296e2a46570a8cb0" class="m-doc-self">QgsExpression</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; other)</span></span>
            </h3>
            <p>Create a copy of this expression.</p>
<p>This is preferred over recreating an expression from a string since it does not need to be re-parsed.</p>
          </div></section>
          <section class="m-doc-details" id="a883d6a2bff57f3a6a3e40659e6e19d98"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a883d6a2bff57f3a6a3e40659e6e19d98" class="m-doc-self">QgsExpression</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Create an empty expression.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a3ba97853186ab2925aee36fd22103606"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3ba97853186ab2925aee36fd22103606" class="m-doc-self">operator QString</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Automatically convert this expression to a string where requested.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a826637f29c885a28e7133e36ba06f46f"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="classQgsUnitTypes.html#ab05b10caef047c173a83a5c8838a061a" class="m-doc">QgsUnitTypes::<wbr />AreaUnit</a> QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a826637f29c885a28e7133e36ba06f46f" class="m-doc-self">areaUnits</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns the desired areal units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$area&quot;.</p>
<aside class="m-note m-info"><h4>Note</h4><p>areas are only converted when a <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a> has been set</p></aside><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#acb090c93e2c8576267bf8fe121d12454" class="m-doc">setAreaUnits()</a></p><p><a href="classQgsExpression.html#ab9f75d8a4e8359ea013e00348f286d5f" class="m-doc">distanceUnits()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="ab9f75d8a4e8359ea013e00348f286d5f"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="classQgsUnitTypes.html#a0602e8a06afd37c267e9e532bb27f50d" class="m-doc">QgsUnitTypes::<wbr />DistanceUnit</a> QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab9f75d8a4e8359ea013e00348f286d5f" class="m-doc-self">distanceUnits</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns the desired distance units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$length&quot; and &quot;$perimeter&quot;.</p>
<aside class="m-note m-info"><h4>Note</h4><p>distances are only converted when a <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a> has been set</p></aside><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a6d568e034aec07bf98dddecceccdb894" class="m-doc">setDistanceUnits()</a></p><p><a href="classQgsExpression.html#a826637f29c885a28e7133e36ba06f46f" class="m-doc">areaUnits()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="a964405819287c1dc7d6256dba11ccf21"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a964405819287c1dc7d6256dba11ccf21" class="m-doc-self">dump</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns an expression string, constructed from the internal abstract syntax tree.</p>
<p>This does not contain any nice whitespace formatting or comments. In general it is preferable to use <a href="classQgsExpression.html#a088d751afb7cc54785b69eba09e433f1" class="m-doc">expression()</a> instead.</p>
          </div></section>
          <section class="m-doc-details" id="aed92c6b72450d23e340f55b9844d14b0"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QVariant QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aed92c6b72450d23e340f55b9844d14b0" class="m-doc-self">evaluate</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Evaluate the feature and return the result.</p>
<aside class="m-note m-info"><h4>Note</h4><p>this method does not expect that <a href="classQgsExpression.html#a0285763c2bc4a7202878e7723b9c5ce2" class="m-doc">prepare()</a> has been called on this instance</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="a279785f0a59cc4ac977022797599bdc6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QVariant QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a279785f0a59cc4ac977022797599bdc6" class="m-doc-self">evaluate</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context)</span></span>
            </h3>
            <p>Evaluate the expression against the specified context and return the result.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">context</td>
                  <td>context for evaluating expression</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-info"><h4>Note</h4><p><a href="classQgsExpression.html#a0285763c2bc4a7202878e7723b9c5ce2" class="m-doc">prepare()</a> should be called before calling this method.</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="a088d751afb7cc54785b69eba09e433f1"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QString QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a088d751afb7cc54785b69eba09e433f1" class="m-doc-self">expression</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns the original, unmodified expression string.</p>
<p>If there was none supplied because it was constructed by sole API calls, <a href="classQgsExpression.html#a964405819287c1dc7d6256dba11ccf21" class="m-doc">dump()</a> will be used to create one instead.</p>
          </div></section>
          <section class="m-doc-details" id="a83560cb2a0e956d71ac62b28cb559c1f"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;class T&gt;
              </div>
              <span class="m-doc-wrap-bumper">QList&lt;const T*&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a83560cb2a0e956d71ac62b28cb559c1f" class="m-doc-self">findNodes</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns a list of all nodes of the given class which are used in this expression.</p>
<aside class="m-note m-info"><h4>Note</h4><p>not available in Python bindings</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.2</p></aside>
          </div></section>
          <section class="m-doc-details" id="af8986df333a858826ae3c4a7873e1ca5"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>* QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af8986df333a858826ae3c4a7873e1ca5" class="m-doc-self">geomCalculator</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Returns calculator used for distance and area calculations (used by $length, $area and $perimeter functions only)</p>
<aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#acc299a58fce972fd8dd76acfbaf85aba" class="m-doc">setGeomCalculator()</a></p><p><a href="classQgsExpression.html#ab9f75d8a4e8359ea013e00348f286d5f" class="m-doc">distanceUnits()</a></p><p><a href="classQgsExpression.html#a826637f29c885a28e7133e36ba06f46f" class="m-doc">areaUnits()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="a748d8721011bf26864dd5b7c458d0680"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a748d8721011bf26864dd5b7c458d0680" class="m-doc-self">isField</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Checks whether an expression consists only of a single field reference.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.9</p></aside>
          </div></section>
          <section class="m-doc-details" id="af30007688deb7583391c5c71ccdb84ad"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af30007688deb7583391c5c71ccdb84ad" class="m-doc-self">isValid</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Checks if this expression is valid.</p>
<p>A valid expression could be parsed but does not necessarily evaluate properly.</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a2a8ce2966c260497d77555c3f8c8d124"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QList&lt;const <a href="classQgsExpressionNode.html" class="m-doc">QgsExpressionNode</a>*&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2a8ce2966c260497d77555c3f8c8d124" class="m-doc-self">nodes</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns a list of all nodes which are used in this expression.</p>
<aside class="m-note m-info"><h4>Note</h4><p>not available in Python bindings</p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.2</p></aside>
          </div></section>
          <section class="m-doc-details" id="a06860926aa2e4d9553a9eb0e20b0650e"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a06860926aa2e4d9553a9eb0e20b0650e" class="m-doc-self">operator=</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; other)</span></span>
            </h3>
            <p>Create a copy of this expression.</p>
<p>This is preferred over recreating an expression from a string since it does not need to be re-parsed.</p>
          </div></section>
          <section class="m-doc-details" id="a527839698d3437bf896d648a021277b5"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a527839698d3437bf896d648a021277b5" class="m-doc-self">operator==</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpression.html" class="m-doc">QgsExpression</a>&amp; other) const</span></span>
            </h3>
            <p>Compares two expressions.</p>
<p>The operator returns true if the expression string is equal.</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a3a5d8dc84a2cb677dcf02d269bd9d6a3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QList&lt;<a href="structQgsExpression_1_1ParserError.html" class="m-doc">QgsExpression::<wbr />ParserError</a>&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3a5d8dc84a2cb677dcf02d269bd9d6a3" class="m-doc-self">parserErrors</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns parser error details including location of error.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a0285763c2bc4a7202878e7723b9c5ce2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0285763c2bc4a7202878e7723b9c5ce2" class="m-doc-self">prepare</a>(</span><span class="m-doc-wrap">const <a href="classQgsExpressionContext.html" class="m-doc">QgsExpressionContext</a>* context)</span></span>
            </h3>
            <p>Gets the expression ready for evaluation - find out column indexes.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">context</td>
                  <td>context for preparing expression</td>
                </tr>
              </tbody>
            </table>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.12</p></aside>
          </div></section>
          <section class="m-doc-details" id="afca235efb1d341782df1dce301538fb1"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QSet&lt;int&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#afca235efb1d341782df1dce301538fb1" class="m-doc-self">referencedAttributeIndexes</a>(</span><span class="m-doc-wrap">const <a href="classQgsFields.html" class="m-doc">QgsFields</a>&amp; fields) const</span></span>
            </h3>
            <p>Returns a list of field name indexes obtained from the provided fields.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="a75ca21b18b29c445a88bc212b1fdf1ed"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QSet&lt;QString&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a75ca21b18b29c445a88bc212b1fdf1ed" class="m-doc-self">referencedColumns</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Gets list of columns referenced by the expression.</p>
<aside class="m-note m-info"><h4>Note</h4><p>If the returned list contains the QgsFeatureRequest::AllAttributes constant then all attributes from the layer are required for evaluation of the expression. <a href="classQgsFeatureRequest.html#a85f831f339a9882822d5d5cf19b29fdf" class="m-doc">QgsFeatureRequest::<wbr />setSubsetOfAttributes</a> automatically handles this case.</p></aside><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#afca235efb1d341782df1dce301538fb1" class="m-doc">referencedAttributeIndexes()</a></p></aside>
          </div></section>
          <section class="m-doc-details" id="ab628ee5b51f27bc56b55e3571765fbbd"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QSet&lt;QString&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab628ee5b51f27bc56b55e3571765fbbd" class="m-doc-self">referencedFunctions</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns a list of the names of all functions which are used in this expression.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.2</p></aside>
          </div></section>
          <section class="m-doc-details" id="a32cc13155574d799720f7fec906617e0"><div>
            <h3>
              <span class="m-doc-wrap-bumper">QSet&lt;QString&gt; QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a32cc13155574d799720f7fec906617e0" class="m-doc-self">referencedVariables</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Returns a list of all variables which are used in this expression.</p>
<p>If the list contains a NULL QString, there is a variable name used which is determined at runtime.</p><aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="acb090c93e2c8576267bf8fe121d12454"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acb090c93e2c8576267bf8fe121d12454" class="m-doc-self">setAreaUnits</a>(</span><span class="m-doc-wrap"><a href="classQgsUnitTypes.html#ab05b10caef047c173a83a5c8838a061a" class="m-doc">QgsUnitTypes::<wbr />AreaUnit</a> unit)</span></span>
            </h3>
            <p>Sets the desired areal units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$area&quot;.</p>
<aside class="m-note m-info"><h4>Note</h4><p>areas are only converted when a <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a> has been set</p></aside><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#a826637f29c885a28e7133e36ba06f46f" class="m-doc">areaUnits()</a></p><p><a href="classQgsExpression.html#a6d568e034aec07bf98dddecceccdb894" class="m-doc">setDistanceUnits()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="a6d568e034aec07bf98dddecceccdb894"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6d568e034aec07bf98dddecceccdb894" class="m-doc-self">setDistanceUnits</a>(</span><span class="m-doc-wrap"><a href="classQgsUnitTypes.html#a0602e8a06afd37c267e9e532bb27f50d" class="m-doc">QgsUnitTypes::<wbr />DistanceUnit</a> unit)</span></span>
            </h3>
            <p>Sets the desired distance units for calculations involving <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a>, e.g., &quot;$length&quot; and &quot;$perimeter&quot;.</p>
<aside class="m-note m-info"><h4>Note</h4><p>distances are only converted when a <a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a> has been set</p></aside><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#ab9f75d8a4e8359ea013e00348f286d5f" class="m-doc">distanceUnits()</a></p><p><a href="classQgsExpression.html#acb090c93e2c8576267bf8fe121d12454" class="m-doc">setAreaUnits()</a></p></aside><aside class="m-note m-default"><h4>Since</h4><p>QGIS 2.14</p></aside>
          </div></section>
          <section class="m-doc-details" id="a1e65240b668da7f8e098f7d55d4f9f7a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a1e65240b668da7f8e098f7d55d4f9f7a" class="m-doc-self">setExpression</a>(</span><span class="m-doc-wrap">const QString&amp; expression)</span></span>
            </h3>
            <p>Set the expression string, will reset the whole internal structure.</p>
<aside class="m-note m-default"><h4>Since</h4><p>QGIS 3.0</p></aside>
          </div></section>
          <section class="m-doc-details" id="acc299a58fce972fd8dd76acfbaf85aba"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void QgsExpression::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acc299a58fce972fd8dd76acfbaf85aba" class="m-doc-self">setGeomCalculator</a>(</span><span class="m-doc-wrap">const <a href="classQgsDistanceArea.html" class="m-doc">QgsDistanceArea</a>* calc)</span></span>
            </h3>
            <p>Sets the geometry calculator used for distance and area calculations in expressions.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">calc</td>
                  <td>geometry calculator. Ownership is not transferred. Set to a nullptr to force Cartesian calculations.</td>
                </tr>
              </tbody>
            </table>
<p>(used by $length, $area and $perimeter functions only). By default, no geometry calculator is set and all distance and area calculations are performed using simple Cartesian methods (ie no ellipsoidal calculations).</p><aside class="m-note m-default"><h4>See also</h4><p><a href="classQgsExpression.html#af8986df333a858826ae3c4a7873e1ca5" class="m-doc">geomCalculator()</a></p></aside>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-doc-details" id="a4d6ec3434ccbf3bff65a6d865ee8a90f"><div>
            <h3>
              static QStringList QgsExpression::<wbr /><a href="#a4d6ec3434ccbf3bff65a6d865ee8a90f" class="m-doc-self">sBuiltinFunctions</a>
            </h3>
<aside class="m-note m-info"><h4>Note</h4><p>not available in Python bindings</p></aside>
          </div></section>
          <section class="m-doc-details" id="a3055bacc2aa733906149a6c6a1ac8d75"><div>
            <h3>
              static QList&lt;<a href="classQgsExpressionFunction.html" class="m-doc">QgsExpressionFunction</a>*&gt; QgsExpression::<wbr /><a href="#a3055bacc2aa733906149a6c6a1ac8d75" class="m-doc-self">sFunctions</a>
            </h3>
<aside class="m-note m-info"><h4>Note</h4><p>not available in Python bindings</p></aside>
          </div></section>
          <section class="m-doc-details" id="a2f6be212ceb140221faf382768a03b76"><div>
            <h3>
              static QList&lt;<a href="classQgsExpressionFunction.html" class="m-doc">QgsExpressionFunction</a>*&gt; QgsExpression::<wbr /><a href="#a2f6be212ceb140221faf382768a03b76" class="m-doc-self">sOwnedFunctions</a>
            </h3>
            <p>List of functions owned by the expression engine.</p>
<aside class="m-note m-info"><h4>Note</h4><p>not available in Python bindings</p></aside>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim"></span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim"></span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>

          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>QGIS API Documentation. Created by <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
